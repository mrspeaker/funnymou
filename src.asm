
     credits         = $8023
     is_playing      = $8030
     score_lo        = $8044
     score_mid       = $8045
     score_hi        = $8046
     hiscore_lo      = $804A
     hiscore_mid     = $804B
     hiscore_hi      = $804C

     carrying_1      = $80A0 ; carrying food
     carrying_2      = $80A1 ; carrying food
     carrying_3      = $80A2 ; carrying food... dropped?

     lives           = $8100
     lives_copy      = $8200 ; seems to mimic 8100?

     controls        = $8401 ; 1=L, 2=R, 4=D, 8=U, 10=fire
     player_x        = $8406
     player_y        = $8407
     player_sp_x     = $8408 ; fe = -2 left, 02 = 2 right
     player_sp_y     = $8409 ; fe = -2 up, 02 = 2 down

     cat1_bytes      = $8510
     cat1_x          = $8518
     cat1_y          = $8519
     cat1_fr         = $851A

     cat2_bytes      = $8550
     cat2_x          = $8558
     cat2_y          = $8559
     cat2_fr         = $855A

     cat3_bytes      = $8570
     cat3_x          = $8578
     cat3_y          = $8579
     cat3_fr         = $857A

     snake1_bytes    = $8610 ; tee hee, snake bytes
     snake1_x        = $8618
     snake1_y        = $8619
     snake1_fr       = $861A

     snake2_bytes    = $8630
     snake2_x        = $8638
     snake2_y        = $8639
     snake2_fr       = $863A

     bombs           = $867f
     bomb_placed     = $8680
     bomb_x          = $8684
     bomb_y          = $8685
     bomb_um1        = $8686 ; anim frames or something
     bomb_um2        = $8687
     bomb_set_timer  = $868A
     bomb_exploding  = $868B

     screen_ram      = $9000 ; - 0x93ff  videoram
     start_of_tiles  = $9040 ; top right tile
     END_OF_TILES    = $93BF ; bottom left tile
     end_of_scr_ram  = $93ff

     color_ram       = $9400
     x_offset        = $9800
     sprite_ram      = $9840

     int_enable      = $b000 ; interrupt enable w, DIP read
     dip_switch      = $b000 ; interrupt enable w, DIP read
     coin_lockout    = $b002 ; dunno
     sound_enable    = $b003
     flip_scr_x      = $b006
     flip_scr_y      = $b007
     watchdog        = $B800 ;

     hw_in_0         = $A000 ; 1 = L, 2 = R, 4 = down, 8 = up
     hw_in_1         = $A800 ; 0x4 = P1, 0x8 = P2


 ;;; ============ start of suprmous.x1 =============

start:
    nop
    nop
    nop
    ld   a,$00
    ld   (int_enable),a
    jp   init_game

    nop
    nop
    nop
    ld   a,(watchdog)
    ld   hl,$8000
    ld   a,$88
    ld   c,$00
    ld   (hl),c
    inc  hl
    cp   h
    jp   nz,$0018
    ld   sp,$87FE
    ld   a,(watchdog)
    call $0933
    xor  a
    ld   b,$08
    ld   hl,dip_switch
    ld   (hl),a
    inc  hl
    djnz $002D
    ld   a,(dip_switch)
    ld   ($8020),a
    ld   b,a
    and  $07
    ld   ($8025),a
    ld   a,b
    and  $18
    ld   ($8026),a
    ld   a,b
    and  $20
    ld   ($8028),a
    ld   a,b
    and  $40
    ld   ($8027),a
    jp   $0580

     dc   20,0

 ;; Non-Maskable Interrupt handler. Fires every frame
 NMI_LOOP:
    push af
    ld   a,$00
    ld   (int_enable),a
    push bc
    push de
    push hl
    ex   af,af'
    exx
    push af
    push bc
    push de
    push hl
    push ix
    push iy
    nop
    nop
    ld   a,(watchdog)
    nop
    nop
    nop
    nop
    call main_loop
    nop
    nop
    nop
    nop
    nop
    nop
    pop  iy
    pop  ix
    pop  hl
    pop  de
    pop  bc
    pop  af
    exx
    ex   af,af'
    pop  hl
    pop  de
    pop  bc
    ld   a,$01
    ld   (int_enable),a
    pop  af
    ret

     dc 97,0

 ;; dunno if it's main loop. called from NMI
 main_loop:
     nop
     nop
     nop
    call $0743
    call $0629
    ld   a,(is_playing)
    and  a
    jp   nz,_no_start_buttons
    ld   a,(hw_in_1)
    and  $08    ; 2P plutton
    jp   nz,_check_2P
 _has_one_credit:
    ld   a,(hw_in_1) ; reload in_1. for some reason
    and  $04    ; 1P button
    jp   nz,start_game_p1
    jp   _no_start_buttons  ; no buttons
 _check_2P:
    ld   a,(credits)
    cp   $02    ; has two?
    jp   c,_has_one_credit
    ld   a,$02
    ld   (is_playing),a
    ld   a,(credits)
    sub  $02
    daa
    ld   (credits),a
    ld   a,$01
    ld   ($803C),a
    ld   a,($8026)
    and  a
    jp   nz,$0150
    ld   a,$03
    ld   (lives_copy),a
    ld   ($8300),a
    jp   $0193
    ld   a,$05
    ld   (lives_copy),a
    ld   ($8300),a
    jp   $0193

 start_game_p1:
    ld   a,(credits)
    and  a
    jp   z,_no_start_buttons
    ld   a,$01
    ld   (is_playing),a
    ld   a,(credits)
    sub  $01
    daa
    ld   (credits),a
    ld   a,$00
    ld   ($803C),a
    ld   a,($8026)
    and  a
    jp   nz,$0189
    ld   a,$03
    ld   (lives_copy),a
    ld   a,$00
    ld   ($8300),a
    jp   $0193
    ld   a,$05
    ld   (lives_copy),a
    ld   a,$00
    ld   ($8300),a
    ld   a,$00
    ld   hl,lives
    ld   b,$03
    ld   (hl),a
    inc  l
    jp   nz,$019A
    inc  h
    inc  l
    djnz $019A
    ld   a,$00
    ld   ($8031),a
    ld   ($8032),a
    ld   ($8033),a
    ld   ($8034),a
    ld   ($8035),a
    ld   ($8036),a
    ld   ($803A),a
    ld   a,$F0
    ld   ($803D),a
    ld   hl,$8040
    ld   a,$00
    ld   b,$0A
    ld   (hl),a
    inc  hl
    djnz $01C6
    nop
    ld   b,$01
    call $07BC
    ld   a,$01
    ld   (sound_enable),a
    ld   a,$E0
    ld   (watchdog),a
    ld   a,$01
    ld   ($8038),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    nop
    nop
    nop
    nop


 _no_start_buttons:
    ld   a,($8039)
    and  a
    ret  nz
    ld   a,(is_playing)
    and  a
    jp   nz,$02C7
    ld   a,(credits)
    and  a
    jp   nz,$0208
    ld   a,($803B)
    and  a
    jp   nz,$0242
    jp   $0288
    cp   $02
    jp   nc,$021B
    ld   a,($803B)
    cp   $02
    ret  z
    ld   a,$01
    ld   ($8039),a
    jp   $0229
    ld   a,($803B)
    cp   $03
    ret  z
    ld   a,$02
    ld   ($8039),a
    jp   $0229
    ld   hl,lives
    ld   a,$00
    ld   b,$03
    ld   (hl),a ; set 3 lives
    inc  l
    jp   nz,$0230
    inc  h
    djnz $0230
    ld   hl,$8068
    ld   b,$06
    ld   (hl),a
    inc  hl
    djnz $023D
    ret
    ld   a,($8033)
    and  a
    jp   z,$025E
    ld   a,($803B)
    cp   $01
    jp   z,$0275
    cp   $06
    jp   z,$0299
    cp   $07
    jp   z,$0288
    jp   $0288
    ld   a,($8032)
    and  a
    jp   z,$02AA
    ld   a,($803B)
    cp   $06
    jp   z,$0299
    cp   $07
    jp   z,$0288
    jp   $0288
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  5,a
    ld   ($8039),a
    jp   $0229
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  7,a
    ld   ($8039),a
    ret
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  6,a
    ld   ($8039),a
    ret
    ld   a,($803B)
    cp   $01
    jp   z,$4694
    cp   $06
    jp   z,$02BF
    cp   $07
    jp   z,$02C3
    jp   $0288
    call $2391
    ret
    call $2468
    ret
    call $0638
    ld   a,($8033)
    and  a
    jp   nz,$0398
    ld   a,($8032)
    and  a
    jp   nz,$04E0
    ld   a,($803B)
    cp   $04
    jp   z,$02F5
    cp   $05
    jp   z,$036D
    cp   $06
    jp   z,$2391
    cp   $07
    jp   z,$2468
    cp   $08
    jp   z,$4556
    ret
    ld   a,($803D)
    dec  a
    ld   ($803D),a
    cp   $7E
    jp   nz,$0308
    ex   af,af'
    ld   a,$A0
    ld   (watchdog),a
    ex   af,af'
    cp   $77
    jp   nz,$0314
    ex   af,af'
    ld   a,$E0
    ld   (watchdog),a
    ex   af,af'
    and  a
    jp   z,$0319
    ret
    ld   a,(is_playing)
    cp   $02
    jp   z,$0332
    ld   a,$00
    ld   (is_playing),a
    ld   ($803B),a
    ld   a,($8039)
    set  2,a
    ld   ($8039),a
    ret
    ld   a,($8031)
    and  a
    jp   nz,$0353
    ld   a,$01
    ld   ($8034),a
    ld   a,($8035)
    and  a
    jp   nz,$0321
    ld   a,$01
    ld   ($8031),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    ret
    ld   a,$01
    ld   ($8035),a
    ld   a,($8034)
    and  a
    jp   nz,$0321
    ld   a,$00
    ld   ($8031),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    ret
    ld   a,($803D)
    dec  a
    ld   ($803D),a
    cp   $3E
    jp   z,$0383
    cp   $37
    jp   z,$0389
    and  a
    jp   z,$038F
    ret
    ld   a,$A0
    ld   (watchdog),a
    ret
    ld   a,$E0
    ld   (watchdog),a
    ret
    ld   a,($8039)
    set  5,a
    ld   ($8039),a
    ret
    ld   a,($803B)
    cp   $06
    jp   z,$03B5
    cp   $07
    jp   z,$03AB
    cp   $08
    jp   z,$03AB
    ret
    ld   a,($8031)
    and  a
    jp   z,$04C1
    jp   $048B
    ld   a,($803C)
    and  a
    jp   nz,$041D
    ld   hl,lives
    ld   a,$00
    cp   (hl)
    jp   z,$03E9
    dec  (hl)
    ld   hl,lives
    ld   de,lives_copy
    ld   bc,$00FF
    ldir
    ld   a,(lives)
    and  a
    jp   z,$03E9
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    ret

 ;;
    ld   (sound_enable),a
    ld   (flip_scr_x),a
    ld   (flip_scr_y),a
    ld   a,$01
    ld   ($8034),a
    ld   ($8035),a
    ld   hl,lives
    ld   b,$84
    ld   a,$00
    ld   (hl),a
    inc  l
    jp   nz,$0401
    inc  h
    ld   a,b
    cp   h
    jp   nz,$03FF
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  3,a
    ld   ($8039),a
    ret
    ld   hl,lives
    ld   a,$00
    cp   (hl)
    jp   z,$0427
    dec  (hl)
    ld   a,($8031)
    and  a
    jp   z,$043C
    ld   hl,lives
    ld   de,$8300
    ld   bc,$00FF
    ldir
    jp   $0447
    ld   hl,lives
    ld   de,lives_copy
    ld   bc,$00FF
    ldir
    ld   a,(lives)
    and  a
    jp   nz,$0473
    ld   a,($8031)
    and  a
    jp   z,$045D
    ld   a,$01
    ld   ($8035),a
    jp   $0462
    ld   a,$01
    ld   ($8034),a
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,($8039)
    set  3,a
    ld   ($8039),a
    ret
    ld   a,($8031)
    and  a
    jp   z,$0484
    ld   a,(lives_copy)
    and  a
    jp   nz,$04C1
    jp   $048B
    ld   a,($8300)
    and  a
    jp   z,$04C1
    ld   a,($8027)
    and  a
    jp   nz,$04A0
    ld   a,$00
    ld   ($8036),a
    ld   (flip_scr_x),a
    ld   (flip_scr_y),a
    jp   $04AB
    ld   a,$01
    ld   ($8036),a
    ld   (flip_scr_x),a
    ld   (flip_scr_y),a
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,$01
    ld   ($8031),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    ret
    ld   a,$00
    ld   ($8033),a
    ld   ($8032),a
    ld   a,$00
    ld   ($8036),a
    ld   (flip_scr_x),a
    ld   (flip_scr_y),a
    ld   ($8031),a
    ld   a,($8039)
    set  4,a
    ld   ($8039),a
    ret
    ld   a,($803B)
    cp   $06
    jp   z,$0504
    cp   $07
    jp   z,$04EE
    ret
    ld   a,$00
    ld   ($8032),a
    ld   ($8033),a
    ld   a,$08
    ld   ($803B),a
    ld   a,($8039)
    set  2,a
    ld   ($8039),a
    ret
    ld   a,($8101)
    add  a,$01
    daa
    ld   ($8101),a
    ld   hl,$8103
    ld   a,$00
    ld   b,$FC
    ld   (hl),a
    inc  l
    djnz $0514
    ld   a,($8031)
    and  a
    jp   z,$052D
    ld   hl,lives
    ld   de,$8300
    ld   bc,$00FF
    ldir
    jp   $0538
    ld   hl,lives
    ld   de,lives_copy
    ld   bc,$00FF
    ldir
    ld   a,$00
    ld   ($8032),a
    ld   ($8033),a
    ld   a,($8039)
    set  6,a
    ld   ($8039),a
    ret

     dc   55,0

    call $05C0
    call $05E2
    ld   a,(watchdog)
    nop
    nop
    nop
    ld   a,$01
    ld   (int_enable),a
    ld   (coin_lockout),a
    nop
    nop
    nop
    jp   $1FD1

     dc   38,0

    ld   hl,$9380
    ld   de,$05FA
    ld   b,$1A
    call $061D
    ld   hl,$915F
    ld   de,$0614
    ld   b,$09
    call $061D
    ld   a,$00
    ld   ($92C1),a
    ld   ($9061),a
    ld   ($9181),a
    ret

    ld   hl,$9401
    ld   de,$0020
    ld   b,$20
    ld   a,$82
    ld   (hl),a
    add  hl,de
    djnz $05EC
    ld   hl,$941F
    ld   b,$10
    ld   (hl),a
    add  hl,de
    djnz $05F5
    ret
    inc  e
    inc  c
    jr   $0619
    ld   c,$2E
    ld   bc,$2424
    ld   de,$2E12
    inc  e
    inc  c
    jr   $0625
    ld   c,$24
    inc  h
    inc  e
    inc  c
    jr   $062C
    ld   c,$2E
    ld   (bc),a
    inc  c
    dec  de
    ld   c,$0D
    ld   (de),a
    dec  e
    ld   l,$00
    inc  h
    ld   a,(de)
    ld   (hl),a
    push de
    ld   de,$FFE0
    add  hl,de
    pop  de
    inc  de
    djnz $061D
    ret
    nop
    nop
    nop
    ld   hl,$8000
    ld   de,$9840
    ld   bc,$0020
    ldir
    ret
    nop
    nop
    nop
    ld   a,($8040)
    and  a
    ret  z
    xor  a
    ld   ($8040),a
    ld   a,($8031)
    and  a
    jp   nz,$0653
    ld   hl,score_lo
    ld   c,$00
    jp   $0658
    ld   hl,$8047
    ld   c,$01
    ld   de,$8041
    ld   b,$03
    xor  a
    ld   a,(de)
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  de
    inc  hl
    djnz $065E
    push bc
    push de
    ld   a,($8102)
    and  a
    jp   nz,$068A
    ld   a,($8028)
    and  a
    jp   nz,$0680
    dec  hl
    ld   a,(hl)
    cp   $01
    jp   c,$06BD
    jp   $06AA
    dec  hl
    ld   a,(hl)
    cp   $02
    jp   c,$06BD
    jp   $06AA
    cp   $01
    jp   nz,$06BD
    ld   a,($8028)
    and  a
    jp   nz,$06A0
    dec  hl
    ld   a,(hl)
    cp   $05
    jp   c,$06BD
    jp   $06AA
    dec  hl
    ld   a,(hl)
    cp   $10
    jp   c,$06BD
    jp   $06AA
    ld   a,(lives)
    add  a,$01
    ld   (lives),a
    ld   a,($8102)
    add  a,$01
    ld   ($8102),a
    call $232E
    pop  de
    pop  bc
    dec  de
    ld   a,$00
    ld   (de),a
    dec  de
    ld   (de),a
    dec  de
    ld   (de),a
    nop
    jp   $06EF
    ld   h,c
    sub  e
    ld   b,c
    sub  e
    ld   hl,$0193
    sub  e
    pop  hl
    sub  d
    pop  bc
    sub  d
    ld   bc,$E191
    sub  b
    pop  bc
    sub  b
    and  c
    sub  b
    add  a,c
    sub  b
    ld   h,c
    sub  b
    ld   hl,$0192
    sub  d
    pop  hl
    sub  c
    pop  bc
    sub  c
    and  c
    sub  c
    add  a,c
    sub  c
    ld   a,c
    and  a
    jp   nz,$06FF
    ld   ix,score_hi
    ld   hl,$06CB
    call $070A
    ret
    ld   ix,$8049
    ld   hl,$06D7
    call $070A
    ret
    ld   b,$03
    ex   af,af'
    ld   a,$06
    ex   af,af'
    ld   a,(ix+$00)
    ld   c,a
    rrca
    rrca
    rrca
    rrca
    call $0724
    ld   a,c
    call $0724
    dec  ix
    djnz $0710
    ret
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    inc  hl
    and  $0F
    and  a
    jp   z,$0734
    ld   (de),a
    ex   af,af'
    ld   a,$01
    ex   af,af'
    ret
    ex   af,af'
    cp   $01
    jp   nz,$073D
    ex   af,af'
    ld   (de),a
    ret
    dec  a
    ex   af,af'
    ld   a,$24
    ld   (de),a
    ret
    ld   iy,$8020
    ld   a,(hw_in_1)
    ld   (iy+$01),a
    ld   c,a
    ld   b,$00
    and  $01
    jp   z,$075B
    ld   (iy+$09),a
    jp   $0796
    ld   a,(iy+$09)
    and  a
    jp   z,$0796
    ld   (iy+$09),$00
    ld   a,(iy+$05)
    rlca
    ld   e,a
    ld   d,$00
    ld   ix,$07D5
    add  ix,de
    ld   a,(ix+$00)
    inc  (iy+$04)
    cp   (iy+$04)
    jp   nz,$0796
    ld   (iy+$04),$00
    ld   a,(ix+$01)
    inc  b
    add  a,(iy+$03)
    daa
    cp   $09
    jp   z,$07E5
    jp   nc,$07E5
    ld   (iy+$03),a
    ld   a,c
    and  $02
    jp   z,$07A2
    ld   (iy+$0a),a
    jp   $07BC
    ld   a,(iy+$0a)
    and  a
    jp   z,$07BC
    xor  a
    ld   (iy+$0a),a
    ld   a,(iy+$03)
    cp   $09
    jp   nc,$07E5
    inc  b
    add  a,$01
    daa
    ld   (iy+$03),a
    ld   a,b
    and  a
    ret  z
    ld   a,(credits)
    ld   b,a
    and  $0F
    ld   ($907F),a
    ld   a,b
    rrca
    rrca
    rrca
    rrca
    and  $0F
    ld   a,$24
    ld   ($905F),a
    ret
    ld   (bc),a
    ld   bc,$0101
    ld   bc,$0102
    inc  bc
    ld   bc,$0104
    dec  b
    ld   bc,$0106
    rlca
    ld   (iy+$03),$09
    xor  a
    ld   (coin_lockout),a
    inc  b
    jp   $07BC

 init_game:
    ld   a,(watchdog)
    ld   hl,screen_ram
    ld   b,$04
    ld   a,$24
    ld   (hl),a
    inc  l
    jp   nz,$07FB
    ld   a,(watchdog)
    inc  h
    djnz $07F9
    ld   hl,$9400
    ld   b,$04
    ld   a,$80
    ld   (hl),a
    inc  l
    jp   nz,$080D
    ld   a,(watchdog)
    inc  h
    djnz $080B
    ld   hl,x_offset
    ld   (hl),$00
    inc  l
    jp   nz,$081B
    ld   hl,dip_switch
    ld   b,$08
    ld   (hl),$00
    inc  l
    djnz $0826
    ld   a,(watchdog)
    ld   d,$00
    ld   c,$20
    ld   hl,$8000
    ld   b,$08
    ld   a,c
    add  a,$2F
    ld   (hl),a
    inc  l
    jr   nz,$0838
    inc  a
    inc  h
    djnz $0838
    ld   hl,$8000
    ld   b,$08
    ld   a,(watchdog)
    ld   a,c
    add  a,$2F
    cp   (hl)
    jp   nz,$08DD
    inc  l
    jr   nz,$084B
    inc  a
    inc  h
    djnz $084B
    ld   a,(watchdog)
    dec  c
    jr   nz,$0832
    inc  d
    ld   c,$20
    ld   hl,screen_ram
    ld   b,$04
    ld   a,c
    add  a,$2F
    ld   (hl),a
    inc  l
    jr   nz,$0867
    inc  a
    inc  h
    djnz $0867
    ld   a,(watchdog)
    ld   hl,screen_ram
    ld   b,$04
    ld   a,c
    add  a,$2F
    cp   (hl)
    jp   nz,$08DD
    inc  l
    jr   nz,$087A
    inc  a
    inc  h
    djnz $087A
    ld   a,(watchdog)
    dec  c
    jr   nz,$0861
    inc  d
    ld   c,$20
    ld   hl,$9400
    ld   b,$04
    ld   a,c
    add  a,$2F
    ld   (hl),a
    inc  l
    jr   nz,$0896
    inc  a
    inc  h
    djnz $0896
    ld   hl,$9400
    ld   b,$04
    ld   a,c
    add  a,$2F
    cp   (hl)
    jp   nz,$08DD
    inc  l
    jr   nz,$08A6
    inc  a
    inc  h
    djnz $08A6
    ld   a,(watchdog)
    dec  c
    jr   nz,$0890
    inc  d
    ld   c,$20
    ld   hl,x_offset
    ld   a,c
    add  a,$2F
    ld   (hl),a
    inc  l
    jr   nz,$08C0
    ld   hl,x_offset
    ld   a,c
    add  a,$2F
    cp   (hl)
    jp   nz,$08DD
    inc  l
    jp   nz,$08CA
    ld   a,(watchdog)
    dec  c
    jr   nz,$08BC
    jp   $000E
    ld   hl,$0905
    ld   a,d
    and  a
    jr   z,$08E9
    inc  hl
    inc  hl
    dec  a
    jr   nz,$08E4
    ld   sp,$87FE
    push hl
    call $0933
    pop  hl
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    ld   hl,$9250
    ld   bc,$FFE0
    ld   a,(de)
    cp   $FF
    jp   z,$092D
    ld   (hl),a
    inc  de
    add  hl,bc
    jr   $08FA
    dec  c
    add  hl,bc
    dec  d
    add  hl,bc
    dec  e
    add  hl,bc
    dec  h
    add  hl,bc
    inc  e
    dec  de
    ld   a,(bc)
    ld   d,$24
    rla
    djnz $0914
    rra
    dec  de
    ld   a,(bc)
    ld   d,$24
    rla
    djnz $091C
    inc  c
    dec  de
    ld   a,(bc)
    ld   d,$24
    rla
    djnz $0924
    jr   $0942
    ld   a,(bc)
    ld   d,$24
    rla
    djnz $092C
    ld   a,(watchdog)
    jp   $092D
    ld   a,(watchdog)
    ld   hl,screen_ram
    ld   b,$04
    ld   (hl),$24
    inc  l
    jr   nz,$093B
    inc  h
    djnz $093B
    ld   a,(watchdog)
    ld   hl,$9400
    ld   b,$04
    ld   (hl),$80
    inc  l
    jr   nz,$094B
    inc  h
    djnz $094B
    ld   a,(watchdog)
    ld   hl,x_offset
    ld   (hl),$00
    inc  l
    jr   nz,$0959
    ld   a,(watchdog)
    ret
    nop
    nop
    nop
    ld   hl,$92CE
    ld   b,$0D
    ld   de,$09A1
    call $0995
    ld   hl,$96CE
    call $098A
    ld   hl,$92CF
    ld   b,$0D
    ld   de,$09AE
    call $0995
    ld   hl,$96CF
    call $098A
    nop
    nop
    ret
    ld   de,$FFE0
    ld   b,$0D
    ld   (hl),$87
    add  hl,de
    djnz $098F
    ret
    push bc
    ld   bc,$FFE0
    ld   a,(de)
    ld   (hl),a
    add  hl,bc
    inc  de
    pop  bc
    djnz $0995
    ret
    inc  h
    add  hl,de
    dec  d
    ld   c,$0A
    inc  e
    ld   c,$24
    add  hl,de
    dec  de
    ld   c,$1C
    inc  e
    inc  h
    inc  e
    ld   de,$1D18
    inc  h
    dec  bc
    ld   e,$1D
    dec  e
    jr   $09D1
    inc  h
    nop
    nop
    nop
    ld   hl,$9043
    ld   b,$1C
    ld   c,$1D
    ld   de,$09EF
    call $09DC
    ld   hl,$9443
    ld   b,$1C
    ld   c,$1D
    ld   de,$0CFF
    call $09DC
    call $0962
    ret
    push bc
    push hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  de
    djnz $09DE
    pop  hl
    ld   bc,$0020
    add  hl,bc
    pop  bc
    dec  c
    jp   nz,$09DC
    ret
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  c
    and  d
    and  d
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,e
    sbc  a,h
    sbc  a,l
    and  d
    and  d
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,(hl)
    sbc  a,a
    and  b
    and  d
    and  d
    inc  h
    ex   af,af'
    inc  h
    inc  h
    inc  h
    inc  b
    inc  h
    inc  h
    inc  h
    ld   b,$24
    inc  h
    inc  h
    ld   (bc),a
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,e
    sbc  a,h
    sbc  a,l
    and  d
    and  d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,(hl)
    sbc  a,a
    and  b
    and  d
    and  d
    ld   c,b
    ld   c,c
    ld   c,d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sub  d
    sub  e
    sub  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  c
    and  d
    and  d
    ld   c,e
    ld   c,h
    ld   c,l
    inc  h
    inc  h
    and  a
    inc  h
    inc  h
    sub  l
    sub  (hl)
    sub  a
    inc  h
    inc  h
    and  a
    inc  h
    inc  h
    inc  h
    and  h
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,(hl)
    ld   c,a
    ld   d,b
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,b
    sbc  a,c
    sbc  a,d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  h
    and  e
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,b
    ld   c,c
    ld   c,d
    inc  h
    ld   c,b
    ld   c,c
    ld   c,d
    inc  h
    sub  d
    sub  e
    sub  h
    inc  h
    sub  d
    sub  e
    sub  h
    and  h
    and  e
    and  e
    and  (hl)
    xor  b
    xor  c
    xor  c
    xor  c
    xor  d
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,e
    ld   c,h
    ld   c,l
    inc  h
    ld   c,e
    ld   c,h
    ld   c,l
    inc  h
    sub  l
    sub  (hl)
    sub  a
    inc  h
    sub  l
    sub  (hl)
    sub  a
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,(hl)
    ld   c,a
    ld   d,b
    inc  h
    ld   c,(hl)
    ld   c,a
    ld   d,b
    inc  h
    sbc  a,b
    sbc  a,c
    sbc  a,d
    inc  h
    sbc  a,b
    sbc  a,c
    sbc  a,d
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,b
    ld   c,c
    ld   c,d
    inc  h
    ld   c,b
    ld   c,c
    ld   c,d
    inc  h
    sub  d
    sub  e
    sub  h
    inc  h
    sub  d
    sub  e
    sub  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,e
    ld   c,h
    ld   c,l
    inc  h
    ld   c,e
    ld   c,h
    ld   c,l
    inc  h
    sub  l
    sub  (hl)
    sub  a
    inc  h
    sub  l
    sub  (hl)
    sub  a
    and  e
    and  e
    and  e
    and  (hl)
    xor  l
    xor  (hl)
    xor  (hl)
    xor  (hl)
    xor  a
    and  (hl)
    and  (hl)
    and  d
    and  d
    ld   c,(hl)
    ld   c,a
    ld   d,b
    inc  h
    ld   c,(hl)
    ld   c,a
    ld   d,b
    inc  h
    sbc  a,b
    sbc  a,c
    sbc  a,d
    inc  h
    sbc  a,b
    sbc  a,c
    sbc  a,d
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  l
    xor  (hl)
    xor  (hl)
    xor  (hl)
    xor  a
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    dec  b
    inc  h
    inc  h
    inc  h
    ex   af,af'
    inc  h
    inc  h
    inc  h
    nop
    inc  h
    inc  h
    inc  h
    dec  b
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    inc  h
    ld   bc,$2424
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    ld   bc,$2424
    inc  h
    inc  h
    inc  h
    and  e
    and  e
    and  e
    and  (hl)
    xor  e
    inc  h
    inc  h
    inc  h
    xor  h
    and  (hl)
    and  (hl)
    and  d
    and  d
    add  a,b
    add  a,c
    add  a,d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    adc  a,c
    adc  a,d
    adc  a,e
    inc  h
    inc  h
    inc  h
    inc  h
    and  l
    and  e
    and  e
    and  (hl)
    or   b
    or   c
    or   c
    or   c
    or   d
    and  (hl)
    and  (hl)
    and  d
    and  d
    add  a,e
    add  a,h
    add  a,l
    inc  h
    inc  h
    and  a
    inc  h
    inc  h
    adc  a,h
    adc  a,l
    adc  a,(hl)
    inc  h
    inc  h
    and  a
    inc  h
    inc  h
    and  l
    and  e
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  d
    and  d
    add  a,(hl)
    add  a,a
    adc  a,b
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    adc  a,a
    sub  b
    sub  c
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  l
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  (hl)
    and  d
    and  d
    add  a,b
    add  a,c
    add  a,d
    inc  h
    add  a,b
    add  a,c
    add  a,d
    inc  h
    adc  a,c
    adc  a,d
    adc  a,e
    inc  h
    adc  a,c
    adc  a,d
    adc  a,e
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,e
    sbc  a,h
    sbc  a,l
    and  d
    and  d
    add  a,e
    add  a,h
    add  a,l
    inc  h
    add  a,e
    add  a,h
    add  a,l
    inc  h
    adc  a,h
    adc  a,l
    adc  a,(hl)
    inc  h
    adc  a,h
    adc  a,l
    adc  a,(hl)
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,(hl)
    sbc  a,a
    and  b
    and  d
    and  d
    add  a,(hl)
    add  a,a
    adc  a,b
    inc  h
    add  a,(hl)
    add  a,a
    adc  a,b
    inc  h
    adc  a,a
    sub  b
    sub  c
    inc  h
    adc  a,a
    sub  b
    sub  c
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,e
    sbc  a,h
    sbc  a,l
    and  d
    and  d
    add  a,b
    add  a,c
    add  a,d
    inc  h
    add  a,b
    add  a,c
    add  a,d
    inc  h
    adc  a,c
    adc  a,d
    adc  a,e
    inc  h
    adc  a,c
    adc  a,d
    adc  a,e
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    sbc  a,(hl)
    sbc  a,a
    and  b
    and  d
    and  d
    add  a,e
    add  a,h
    add  a,l
    inc  h
    add  a,e
    add  a,h
    add  a,l
    inc  h
    adc  a,h
    adc  a,l
    adc  a,(hl)
    inc  h
    adc  a,h
    adc  a,l
    adc  a,(hl)
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    and  c
    and  d
    and  d
    add  a,(hl)
    add  a,a
    adc  a,b
    inc  h
    add  a,(hl)
    add  a,a
    adc  a,b
    inc  h
    adc  a,a
    sub  b
    sub  c
    inc  h
    adc  a,a
    sub  b
    sub  c
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,b
    add  a,a
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,a
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,a
    add  a,a
    add  a,a
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,b
    add  a,b
    add  a,b
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,l
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,b
    add  a,a
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,a
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,b
    add  a,b
    add  a,b
    add  a,e
    add  a,e
    add  a,e
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,c
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,e
    add  a,c
    add  a,c
    add  a,c

 ;;; ============ start of suprmous.x2 =============

    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,h
    add  a,h
    add  a,h
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    add  a,b
    add  a,(hl)
    add  a,(hl)
    add  a,(hl)
    ld   a,($803E)
    and  a
    jp   nz,$1038
    ld   a,($841F)
    cp   $02
    jp   z,$1038
    ld   a,($841F)
    cp   $00
    jp   z,$1038
    ld   a,(bomb_placed)
    and  a
    jp   nz,$10ED
    ld   ($8683),a
    ld   a,(bombs)
    and  a
    ret  z
    jp   $1046
    ld   hl,bomb_placed
    ld   a,$00
    ld   b,$10
    ld   (hl),a
    inc  hl
    djnz $103F
    jp   $10D6
    ld   a,($85C1)
    and  a
    ret  nz
    ld   a,(controls)
    and  $10    ; fire pressed?
    ret  z
    call $251B
    ld   de,$FFE2
    add  hl,de
    ld   a,(hl)
    cp   $F0
    ret  c
    ld   a,(bombs) ;(only here when holding a bomb
    and  a
    ret  z      ; out of bombs
    sub  $01    ; use a bomb
    ld   (bombs),a
    call $106C
    jp   $109E

 ;; drop bomb?
    push hl
    push de
    push bc
    push af
    ld   hl,$91C3
    ld   a,(bombs)
    ld   c,$06
    ld   de,$0020
    and  a
    jp   z,$1087
    ld   b,a
    ld   a,$32
    ld   (hl),a
    add  hl,de
    dec  c
    djnz $1082
    ld   (hl),$24
    add  hl,de
    dec  c
    jp   nz,$1087
    ld   hl,$95C3
    ld   a,$86
    ld   b,$05
    ld   (hl),a
    add  hl,de
    djnz $1095
    pop  af
    pop  bc
    pop  de
    pop  hl
    ret

 ;; (after?) set bomb?
    ld   a,$00
    ld   ($8683),a
    ld   ($8681),a
    ld   ($8682),a
    ld   ($8688),a
    ld   ($8689),a
    ld   (bomb_set_timer),a
    ld   (bomb_exploding),a
    ld   a,$01
    ld   (bomb_placed),a
    ld   hl,bomb_x
    ld   a,(player_x) ; set bomb pos to player pos
    ld   (hl),a
    inc  hl
    ld   a,(player_y)
    ld   (hl),a
    inc  hl
    ld   a,$3C  ; ?
    ld   (hl),a
    inc  hl
    ld   a,$86  ;
    ld   (hl),a
    ld   a,$85
    ld   (watchdog),a
    jp   $10D6
    ld   hl,$801C
    ld   a,(bomb_x)
    ld   (hl),a
    inc  hl
    ld   a,(bomb_um1)
    ld   (hl),a
    inc  hl
    ld   a,(bomb_um2)
    ld   (hl),a
    inc  hl
    ld   a,(bomb_y)
    ld   (hl),a
    ret


    ld   a,(bomb_exploding)
    and  a
    jp   nz,$110D
    ld   a,(bomb_set_timer)
    cp   $14
    jp   z,$1101
    inc  a      ; too soon to detonate
    ld   (bomb_set_timer),a
    ret
    ld   a,(controls)
    and  $10    ; fire pressed?
    ret  z
 _detonate_bomb:
    ld   a,$01  ; yep... explode bomb
    ld   (bomb_exploding),a
    ret

    ld   hl,$8688
    inc  (hl)
    ld   a,(hl)
    cp   $06
    ret  c
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $01
    jp   z,$1134
    cp   $02
    jp   z,$114B
    cp   $05
    jp   z,$114E
    cp   $09
    jp   z,$115B
    cp   $0E
    jp   z,$1168
    ret
    ld   a,$3E
    ld   ($8686),a
    ld   a,$87
    ld   ($8687),a
    ld   a,$01
    ld   ($8683),a
    ld   a,$88
    ld   (watchdog),a
    jp   $10D6
    jp   $10D6
    ld   a,$3F
    ld   ($8686),a
    ld   a,$84
    ld   ($8687),a
    jp   $10D6
    ld   a,$3D
    ld   ($8686),a
    ld   a,$87
    ld   ($8687),a
    jp   $10D6
    jp   $1038
    nop
    nop
    ld   a,($8683)
    and  a
    ret  z
    ld   a,(int_enable)
    and  $80
    jp   nz,$118C
    ld   a,($841F)
    cp   $01
    jp   nz,$118C
    ld   a,($803E)
    and  a
    jp   nz,$118C
    call $119F
    call $11D9
    call $1205
    call $1231
    call $125D
    call $1291
    call $12BD
    ret
    ld   ix,$8000
    ld   iy,$801C
    ld   hl,$11B4
    exx
    ld   de,$0810
    ld   hl,$0810
    jp   $11BF
    ld   a,$81
    ld   (watchdog),a
    ld   hl,$841F
    ld   (hl),$02
    ret
    ld   a,(ix+$03)
    ld   b,(iy+$03)
    sub  h
    cp   b
    ret  nc
    add  a,l
    cp   b
    ret  c
    ld   a,(ix+$00)
    ld   b,(iy+$00)
    sub  d
    cp   b
    ret  nc
    add  a,e
    cp   b
    ret  c
    exx
    jp   (hl)
    ld   a,($8501)
    and  a
    ret  z
    ld   a,($852B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$8004
    ld   hl,$11F8
    exx
    ld   de,$0E1C
    ld   hl,$0E1C
    jp   $11BF
    ld   hl,$8517
    ld   (hl),$06
    ld   hl,$852B
    ld   (hl),$01
    jp   $1286
    ld   a,($8503)
    and  a
    ret  z
    ld   a,($854B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$8008
    ld   hl,$1224
    exx
    ld   de,$0E1C
    ld   hl,$0E1C
    jp   $11BF
    ld   hl,$8537
    ld   (hl),$06
    ld   hl,$854B
    ld   (hl),$01
    jp   $1286
    ld   a,($8504)
    and  a
    ret  z
    ld   a,($856B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$800C
    ld   hl,$1250
    exx
    ld   de,$0E1C
    ld   hl,$0E1C
    jp   $11BF
    ld   hl,$8557
    ld   (hl),$06
    ld   hl,$856B
    ld   (hl),$01
    jp   $1286
    ld   a,($8507)
    and  a
    ret  z
    ld   a,($858B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$8010
    ld   hl,$127C
    exx
    ld   de,$0E1C
    ld   hl,$0E1C
    jp   $11BF
    ld   hl,$8577
    ld   (hl),$06
    ld   hl,$858B
    ld   (hl),$01
    ld   a,$83
    ld   (watchdog),a
    ld   d,$04
    call $12F1
    ret
    ld   a,($8601)
    and  a
    ret  z
    ld   a,($862B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$8014
    ld   hl,$12B0
    exx
    ld   de,$0C18
    ld   hl,$0C18
    jp   $11BF
    ld   hl,$8617
    ld   (hl),$06
    ld   hl,$862B
    ld   (hl),$01
    jp   $12E6
    ld   a,($8603)
    and  a
    ret  z
    ld   a,($864B)
    and  a
    ret  nz
    ld   ix,$801C
    ld   iy,$8018
    ld   hl,$12DC
    exx
    ld   de,$0C18
    ld   hl,$0C18
    jp   $11BF
    ld   hl,$8637
    ld   (hl),$06
    ld   hl,$864B
    ld   (hl),$01
    ld   a,$82
    ld   (watchdog),a
    ld   d,$08
    call $12F1
    ret
    xor  a
    ld   hl,$8040
    ld   (hl),$01
    ld   c,$00
    ld   e,$00
    inc  hl
    ld   a,c
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    ld   a,d
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    ld   a,e
    adc  a,(hl)
    daa
    ld   (hl),a
    ret
    ld   a,($8101)
    and  $03
    jp   z,$1322
    cp   $01
    jp   z,$132B
    cp   $02
    jp   z,$1334
    cp   $03
    jp   z,$133D
    ld   a,$83
    ld   de,$1391
    call $1346
    ret
    ld   a,$83
    ld   de,$16A1
    call $1346
    ret
    ld   a,$83
    ld   de,$19B1
    call $1346
    ret
    ld   a,$83
    ld   de,$1CC1
    call $1346
    ret
    ld   hl,$9043
    ld   b,$1C
    ld   c,$1C
    ex   af,af'
    call $1360
    ex   af,af'
    ld   de,$0020
    ld   hl,$9443
    ld   b,$1C
    ld   c,$1C
    call $1384
    ret
    push bc
    push hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  de
    djnz $1362
    pop  hl
    ld   bc,$0020
    add  hl,bc
    pop  bc
    dec  c
    jr   nz,$1360
    ret
    push bc
    push hl
    ld   a,(de)
    ld   (hl),a
    inc  de
    inc  hl
    djnz $1374
    pop  hl
    ld   bc,$FFE0
    add  hl,bc
    pop  bc
    dec  c
    jr   nz,$1372
    ret
    push bc
    push hl
    ld   (hl),a
    inc  hl
    djnz $1386
    pop  hl
    add  hl,de
    pop  bc
    dec  c
    jr   nz,$1384
    ret
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1496
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$149E
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$14B2
    dec  h
    dec  h
    dec  h
    call m,$3725
    jr   c,$14BA
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$14CE
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$14D6
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    ld   sp,hl
    dec  h
    dec  h
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$15E6
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$1602
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$161E
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$17AA
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$17C6
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$17E2
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   sp,hl
    dec  h
    dec  h
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$18F6
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$18FE
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$1912
    dec  h
    dec  h
    dec  h
    call m,$3725
    jr   c,$191A
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$192E
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1936
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1ABE
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$1ADA
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1AF6
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1B22
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    call m,$3725
    jr   c,$1B3E
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    ld   sp,hl
    dec  h
    dec  h
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1B5A
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1C0A
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$1C26
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1C42
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    ld   sp,hl
    dec  h
    dec  h
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    ld   (hl),$25
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$3636
    ld   (hl),$36
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1EA2
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call m,$3725
    jr   c,$1EBE
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    rst  $38
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1EDA
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  iyh
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1F1A
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1F26
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call m,$3725
    jr   c,$1F36
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call m,$3725
    jr   c,$1F42
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    or   $25
    scf
    jr   c,$1F52
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    or   $25
    scf
    jr   c,$1F5E
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    call p,$3535
    dec  (hl)
    dec  (hl)
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    call p,$2525
    dec  h
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    push af
    call p,$2525
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    dec  h
    ld   a,($8039)
    and  a
    jp   nz,$1FE3
    ld   a,($803B)
    cp   $06
    jp   nz,$1FE0
    jp   $1FD1
    rrca
    jp   c,$219E
    rrca
    jp   c,$21CA
    rrca
    jp   c,$21F6
    rrca
    jp   c,$2204
    rrca
    jp   c,$2284
    rrca
    jp   c,$200A
    rrca
    jp   c,$20B3
    rrca

 ;;; ============ start of suprmous.x3 =============

    jp   c,$20D9
    xor  a
    ld   ($8039),a
    jp   $1FD1
    call $20EC
    ld   hl,$8500
    ld   b,$10
    ld   a,$00
    ld   (hl),a
    inc  hl
    djnz $2014
    ld   hl,$8600
    ld   b,$10
    ld   (hl),a
    inc  hl
    djnz $201D
    ld   ($8400),a
    ld   hl,$809C
    ld   b,$60
    ld   (hl),a
    inc  hl
    djnz $2029
    ld   a,($8031)
    and  a
    jp   nz,$203A
    ld   hl,lives_copy
    jp   $203D
    ld   hl,$8300
    ld   de,lives
    ld   bc,$00FF
    ldir
    call $2082
    call $209D
    call $130B
    call $3E29
    call $3F34
    call $417B
    call $4227
    ld   a,$A0
    ld   (watchdog),a
    ld   hl,$8040
    ld   a,$00
    ld   b,$04
    ld   (hl),a
    inc  hl
    djnz $2066
    ld   a,$05
    ld   (bombs),a
    call $106C
    ld   a,$06
    ld   ($803B),a
    ld   a,($8039)
    res  5,a
    ld   ($8039),a
    jp   $1FD1
    ld   hl,$9262
    ld   de,$20AB
    ld   b,$08
    push bc
    ld   a,(de)
    ld   (hl),a
    ld   bc,$FFE0
    add  hl,bc
    inc  de
    pop  bc
    djnz $208A
    ld   a,($8031)
    inc  a
    ld   ($9182),a
    ret
    ld   hl,$9662
    ld   de,$FFE0
    ld   b,$08
    ld   (hl),$87
    add  hl,de
    djnz $20A5
    ret
    add  hl,de
    dec  d
    ld   a,(bc)
    ld   ($1B0E),hl
    inc  h
    inc  h
    call $20EC
    call $2082
    call $209D
    call $09BB
    ld   a,$07
    ld   ($803B),a
    ld   a,$E0
    ld   (watchdog),a
    ld   a,$00
    ld   ($8480),a
    ld   a,($8039)
    res  6,a
    ld   ($8039),a
    jp   $1FD1
    call $20EC
    ld   a,$01
    ld   ($803B),a
    ld   a,($8039)
    res  7,a
    ld   ($8039),a
    jp   $1FD1
    ld   hl,$9002
    ld   de,$0020
    ld   b,$20
    ld   c,$1D
    push bc
    push hl
    ld   (hl),$24
    inc  l
    dec  c
    jp   nz,$20F8
    pop  hl
    add  hl,de
    pop  bc
    djnz $20F6
    ld   hl,$9402
    ld   b,$20
    ld   c,$1D
    push bc
    push hl
    ld   (hl),$84
    inc  l
    dec  c
    jp   nz,$210D
    pop  hl
    add  hl,de
    pop  bc
    djnz $210B
    ld   hl,x_offset
    ld   b,$40
    ld   (hl),$00
    inc  l
    djnz $211E
    ld   hl,$8000
    ld   b,$20
    ld   (hl),$00
    inc  l
    djnz $2128
    ret
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    inc  hl
    ex   de,hl
    ld   bc,$FFE0
    ld   a,(de)
    cp   $FF
    ret  z
    ld   (hl),a
    inc  de
    add  hl,bc
    jr   $2136
    ld   hl,hiscore_hi
    push de
    ld   b,$03
    ld   a,(de)
    cp   (hl)
    jp   c,$2154
    jp   z,$2150
    jp   nc,$2156
    dec  de
    dec  hl
    djnz $2145
    pop  de
    ret
    pop  de
    ld   hl,hiscore_hi
    ld   b,$03
    ld   a,(de)
    ld   (hl),a
    dec  hl
    dec  de
    djnz $215C
    ld   de,hiscore_hi
    ld   hl,$9221
    ld   b,$06
    ld   c,b
    srl  b
    call c,$2182
    ld   a,b
    and  a
    ret  z
    call $2179
    jp   $2170
    ld   a,(de)
    rrca
    rrca
    rrca
    rrca
    call $2184
    dec  b
    ld   a,(de)
    dec  de
    and  $0F
    jp   nz,$2192
    dec  c
    jp   z,$2192
    ld   a,$24
    jp   $2196
    ld   c,$01
    add  a,$00
    ld   (hl),a
    push bc
    ld   bc,$FFE0
    add  hl,bc
    pop  bc
    ret
    call $20EC
    ld   hl,$2342
    call $212E
    ld   hl,$2352
    call $212E
    ld   hl,$2359
    call $212E
    xor  a
    ld   ($8033),a
    ld   ($8032),a
    ld   a,$02
    ld   ($803B),a
    ld   a,($8039)
    res  0,a
    ld   ($8039),a
    jp   $1FD1
    call $20EC
    ld   hl,$2362
    call $212E
    ld   hl,$2352
    call $212E
    ld   hl,$2359
    call $212E
    xor  a
    ld   ($8033),a
    ld   ($8032),a
    ld   a,$03
    ld   ($803B),a
    ld   a,($8039)
    res  1,a
    ld   ($8039),a
    jp   $1FD1
    call $20EC
    ld   a,($8039)
    res  2,a
    ld   ($8039),a
    jp   $1FD1
    call $20EC
    ld   hl,$2372
    call $212E
    ld   a,(is_playing)
    cp   $01
    jp   z,$2240
    ld   a,($8035)
    ld   c,$01
    and  a
    jp   z,$2226
    ld   a,($8034)
    and  a
    jp   nz,$2271
    inc  c
    ld   a,c
    ex   af,af'
    ld   hl,$237E
    call $212E
    ex   af,af'
    ld   (hl),a
    ld   de,score_hi
    rrca
    jp   c,$223A
    ld   de,$8049
    call $213F
    jp   $2261
    ld   de,score_hi
    call $213F
    xor  a
    ld   ($8036),a
    ld   (sound_enable),a
    ld   hl,flip_scr_x
    ld   (hl),a
    inc  l
    ld   (hl),a
    ld   hl,score_lo
    ld   b,$06
    ld   (hl),a
    inc  hl
    djnz $2258
    ld   a,$80
    ld   ($803D),a
    ld   a,$04
    ld   ($803B),a
    ld   a,($8039)
    res  3,a
    ld   ($8039),a
    jp   $1FD1
    ld   de,score_hi
    call $213F
    nop
    nop
    nop
    nop
    ld   de,$8049
    call $213F
    jp   $2246
    call $20EC
    ld   a,($8038)
    and  a
    jp   z,$22AE
    xor  a
    ld   ($8038),a
    ld   hl,$9361
    ld   de,$FFE0
    call $22A4
    ld   hl,$9101
    call $22A4
    jp   $22AE
    ld   b,$05
    ld   (hl),$24
    add  hl,de
    djnz $22A6
    ld   (hl),$00
    ret
    ld   a,($8031)
    and  a
    jp   z,$22BE
    ld   a,($8027)
    and  a
    jp   z,$22BE
    ld   a,$01
    ld   hl,flip_scr_x
    ld   (hl),a
    inc  l
    ld   (hl),a
    ld   hl,$237E
    call $212E
    ld   a,($8031)
    inc  a
    ld   (hl),a
    dec  a
    ld   hl,$8201
    and  a
    jp   z,$22D8
    inc  h
    ld   a,(hl)
    add  a,$01
    daa
    ex   af,af'
    ld   hl,$2388
    call $212E
    ex   af,af'
    ld   ($8037),a
    ld   de,$8037
    ld   b,$02
    call $216A
    call $2307
    ld   a,$05
    ld   ($803B),a
    ld   a,$40
    ld   ($803D),a
    ld   a,($8039)
    res  4,a
    ld   ($8039),a
    jp   $1FD1
    ld   a,($8031)
    ld   hl,lives_copy
    and  a
    jp   z,$2312
    inc  h
    ld   a,(hl)
    ld   b,$07
    ld   hl,$939F
    ld   de,$FFE0
    dec  a
    and  a
    jp   z,$2328
    ld   (hl),$79
    add  hl,de
    dec  b
    dec  a
    jp   nz,$2320
    ld   (hl),$24
    add  hl,de
    djnz $2328
    ret
    ld   hl,lives
    ld   a,(hl)
    dec  a
    ld   hl,$939F
    ld   de,$FFE0
    ld   b,$07
    and  a
    jp   z,$2328
    jp   $231C
    xor  (hl)
    sub  d
    jr   $235D
    dec  d
    ld   ($0124),hl
    inc  h
    add  hl,de
    dec  d
    ld   a,(bc)
    ld   ($1B0E),hl
    rst  $38
    inc  l
    sub  d
    add  hl,de
    ld   e,$1C
    ld   de,$50FF
    sub  d
    dec  bc
    ld   e,$1D
    dec  e
    jr   $2378
    rst  $38
    xor  (hl)
    sub  d
    ld   bc,$1824
    dec  de
    inc  h
    ld   (bc),a
    inc  h
    add  hl,de
    dec  d
    ld   a,(bc)
    ld   ($1B0E),hl
    rst  $38
    adc  a,h
    sub  d
    djnz $2380
    ld   d,$0E
    inc  h
    jr   $239A
    ld   c,$1B
    rst  $38
    adc  a,a
    sub  d
    add  hl,de
    dec  d
    ld   a,(bc)
    ld   ($1B0E),hl
    inc  h
    rst  $38
    sub  h
    sub  d
    dec  d
    ld   c,$1F
    ld   c,$15
    inc  h
    rst  $38
    ld   a,($841F)
    cp   $02
    jp   z,$23C5
    ld   a,($803E)
    and  a
    jp   nz,$23C9
    call $407D
    call $3BFF
    call $3D0A
    call $2A51
    call $3206
    call $2539
    call $394B
    call $23D3
    call $392A
    call $116D
    call $100F
    call $41BC
    ret

    call $2539
    ret
    call $2A51
    call $3206
    call $23D3
    ret
    ld   a,($8033)
    and  a
    ret  nz
    ld   a,($841F)
    cp   $02
    ret  z
    ld   a,($803E)
    and  a
    jp   z,$2429
    ld   a,($803F)
    inc  a
    ld   ($803F),a
    cp   $02
    jp   z,$2406
    cp   $04
    jp   z,$2406
    cp   $E8
    jp   z,$240C
    cp   $EC
    jp   z,$2412
    cp   $F0
    jp   z,$2418
    ret
    ld   a,$91
    ld   (watchdog),a
    ret
    ld   a,$A0
    ld   (watchdog),a
    ret
    ld   a,$E0
    ld   (watchdog),a
    ret
    ld   a,$00
    ld   ($8480),a
    ld   ($803E),a
    ld   ($803F),a
    ld   a,$01
    ld   ($8032),a
    ret
    ld   hl,$8140
    ld   a,$00
    ld   b,$09
    cp   (hl)
    ret  z
    inc  hl
    inc  hl
    djnz $2430
    ld   d,$00
    ld   a,($862B)
    and  a
    jp   nz,$2449
    ld   a,$06
    ld   ($8617),a
    ld   a,$08
    add  a,d
    daa
    ld   d,a
    ld   a,($864B)
    and  a
    jp   nz,$245A
    ld   a,$06
    ld   ($8637),a
    ld   a,$08
    add  a,d
    daa
    ld   d,a
    call $3A8C
    ld   a,$01
    ld   ($803E),a
    ld   a,$E0
    ld   (watchdog),a
    ret
    call $4247
    ret
    ld   bc,$0000
    nop
    nop
    nop
    ld   (hl),h
    jp   nz,$0000
    rst  $38
    cp   $01
    ld   (bc),a
    ld   bc,$FF02
    cp   $05
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   bc,$0000
    nop
    nop
    sbc  a,e
    inc  h
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    rrca
    ld   bc,$010F
    inc  b
    djnz $24B1
    ld   (bc),a
    rrca
    ld   (bc),a
    rrca
    ld   (bc),a
    rrca
    ld   bc,$010F
    ld   l,a
    ex   af,af'
    inc  b
    djnz $251F
    ex   af,af'
    rrca
    ld   (bc),a
    ld   c,a
    ld   (bc),a
    cpl
    ld   (bc),a
    rrca
    ld   bc,$010F
    rrca
    ex   af,af'
    rrca
    ex   af,af'
    rrca
    ld   bc,$010F
    ld   l,a
    ex   af,af'
    ccf
    ld   (bc),a
    rra
    ld   (bc),a
    rrca
    ld   (bc),a
    inc  b
    djnz $24DD
    ld   bc,$1004
    rrca
    inc  b
    rrca
    ld   (bc),a
    ld   l,a
    ld   (bc),a
    rrca
    ex   af,af'
    rrca
    ld   bc,$013F
    rra
    ld   bc,$010F
    rrca
    ld   bc,$040F
    rrca
    ld   (bc),a
    rrca
    ld   (bc),a
    rrca
    ld   (bc),a
    rrca
    inc  b
    rrca
    inc  b
    rrca
    inc  b
    rrca
    inc  b
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    rst  $38
    inc  hl
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    ld   a,(de)
    cp   $FF
    jp   nz,$250D
    ld   de,$249B
    jp   $2501
    ex   af,af'
    inc  de
    ld   a,(de)
    inc  de
    ld   (hl),d
    dec  hl
    ld   (hl),e
    dec  hl
    ex   af,af'
    ld   (hl),a
    ex   af,af'
    jp   $2574
    ld   a,(player_y)
    rrca
    rrca
    rrca
    and  $1F
    ld   e,a
    ld   a,(player_x)
    neg
    rlca
    rlca
    ld   d,a
    and  $E0
    or   e
    ld   e,a
    ld   a,d
    and  $03
    ld   d,a
    ld   hl,screen_ram
    add  hl,de
    ret
    ld   a,($8400)
    and  a
    jp   nz,$2554
    ld   de,$8400
    ld   hl,$246C
    ld   bc,$002E
    ldir
    ld   a,$C9
    ld   (watchdog),a
    call $1038
    ret
    ld   hl,$8402
    inc  (hl)
    bit  0,(hl)
    jp   z,$28D2
    ld   a,(is_playing)
    and  a
    jp   nz,$2571
    ld   hl,$8423
    ld   a,(hl)
    dec  (hl)
    and  a
    jp   z,$24FD
    xor  a
    jp   $2574
    ld   a,(hw_in_0)
    ld   (controls),a
    call $2598
    ld   a,($8422)
    and  a
    jp   nz,$2594
    call move_player
    ld   a,(player_sp_x)
    ld   b,a
    ld   a,(player_sp_y)
    or   b
    jp   nz,$2594
    ld   a,$00
    ld   ($8416),a
    call $2853
    ret

    ld   a,($841F)
    cp   $01
    jp   z,$25BC
    ex   af,af'
    ld   a,$00
    ld   ($8416),a
    ex   af,af'
    cp   $02
    jp   z,$25C2
    cp   $00
    jp   z,$2619
    cp   $04
    jp   z,$262D
    cp   $05
    jp   z,$26B2
    ret
    ld   a,$01
    ld   ($8416),a
    ret
    ld   hl,$8420
    ld   a,(hl)
    and  a
    jp   nz,$25DF
    ld   a,$01
    ld   (hl),a
    ld   a,$80
    inc  hl
    ld   (hl),a
    ld   a,$01
    ld   ($8422),a
    ld   a,$0C
    ld   ($8413),a
    call $2818
    ret
    inc  hl
    dec  (hl)
    ld   a,(hl)
    cp   $7E
    jp   z,$25F7
    cp   $40
    jp   z,$25FD
    cp   $30
    jp   z,$2603
    cp   $20
    jp   z,$2609
    ret
    ld   a,$E0
    ld   (watchdog),a
    ret
    ld   a,$0D
    ld   ($8413),a
    ret
    ld   a,$0E
    ld   ($8413),a
    ret
    ld   a,$0F
    ld   ($8413),a
    ld   a,$00
    ld   ($841F),a
    ld   a,$A0
    ld   (watchdog),a
    ret

mthing
    ld   a,$00
    ld   ($8400),a
    ld   ($8420),a
    ld   (player_x),a
    ld   (player_y),a
    ld   a,$01
    ld   ($8033),a
    ret

    ld   hl,$8420
    ld   a,(hl)
    and  a
    jp   nz,$2647
    ld   a,$01
    ld   (hl),a
    ld   ($8422),a
    ld   a,$00
    ld   ($8429),a
    ld   ($842A),a
    call $2818
    ret

    ld   a,($842A)
    and  a
    jp   nz,$2674
    ld   a,(player_y)
    add  a,$02
    ld   (player_y),a
    cp   $E0
    jp   nc,$268B
    call $251B
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $37
    jp   z,$266E
    cp   $38
    jp   z,$266E
    ret
    ld   a,$01
    ld   ($842A),a
    ret
    ld   a,($8429)
    inc  a
    ld   ($8429),a
    cp   $02
    jp   z,$2696
    cp   $0A
    jp   z,$269C
    cp   $14
    jp   z,$26A2
    ret
    ld   a,$00
    ld   ($8420),a
    ld   a,$02
    ld   ($841F),a
    ret
    ld   a,$0D
    ld   ($8413),a
    ret
    ld   a,$0E
    ld   ($8413),a
    ret
    ld   a,$0F
    ld   ($8413),a
    ld   a,$00
    ld   ($841F),a
    ld   a,$A0
    ld   (watchdog),a
    ret
    call $3D0A
    ret

 move_player:
    ld   a,(player_y)
    and  $07
    cp   $02    ; only allow change dir ever 02 on y
    ret  nz
    ld   a,(player_x)
    and  $07
    cp   $04    ; only allow change dir every 04 on x
    ret  nz
    ld   a,(controls)
    rrca
    jp   c,move_player_left
    rrca
    jp   c,move_player_right
    rrca
    jp   c,move_player_down
    rrca
    jp   c,move_player_up
    nop
    ld   a,(player_x)
    ld   d,a
    ld   a,$14
    ld   c,$20
    ld   b,$07
    cp   d
    jp   z,$26EE
    add  a,c
    djnz $26E4
    jp   $26FF
    ld   a,(player_y)
    ld   d,a
    ld   a,$22
    ld   c,$20
    ld   b,$07
    cp   d
    jp   z,$2818
    add  a,c
    djnz $26F8
    ld   a,(player_sp_x)
    and  a
    jp   z,$2829
    ld   a,(player_sp_y)
    and  a
    jp   z,$283E
    jp   $2818

 move_player_left:
    ld   a,(player_x)
    cp   $14
    jp   z,$2829
    jp   nc,$2723
    ld   a,$14
    ld   (player_x),a
    jp   $2829
    call $251B
    ld   bc,$0002
    push hl
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   z,$2737
    ld   a,$EF
    cp   (hl)
    jp   c,$273B
    pop  hl
    jp   $2829
    pop  hl
    ld   a,($840B)
    ld   (player_sp_x),a
    ld   a,$00
    ld   (player_sp_y),a
    ld   a,$01
    ld   ($8404),a
    ld   a,$00
    ld   ($8414),a
    ret

 move_player_right:
    ld   a,(player_x)
    cp   $D4
    jp   z,$2829
    jp   c,$2765
    ld   a,$D4
    ld   (player_x),a
    jp   $2829
    call $251B
    ld   bc,$FFC2
    push hl
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   z,$2779
    ld   a,$EF
    cp   (hl)
    jp   c,$277D
    pop  hl
    jp   $2829
    pop  hl
    ld   a,($840D)
    ld   (player_sp_x),a
    ld   a,$00
    ld   (player_sp_y),a
    ld   a,$02
    ld   ($8404),a
    ld   a,$80
    ld   ($8414),a
    ret

 ;;
 move_player_down:
    ld   a,(player_y)
    cp   $E2
    jp   z,$283E
    jp   c,$27A7
    ld   a,$E2
    ld   (player_y),a
    jp   $283E
    call $251B
    ld   bc,$FFE3
    push hl
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   z,$27BB
    ld   a,$EF
    cp   (hl)
    jp   c,$27BF
    pop  hl
    jp   $283E
    pop  hl
    ld   a,($840F)
    ld   (player_sp_y),a
    ld   a,$00
    ld   (player_sp_x),a
    ld   a,$04
    ld   ($8404),a
    ld   a,$04
    ld   ($8414),a
    ret

 move_player_up:
    ld   a,(player_y)
    cp   $22
    jp   z,$283E
    jp   nc,$27E9
    ld   a,$22
    ld   (player_y),a
    jp   $283E
    call $251B
    ld   bc,$FFE1
    push hl
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   z,$27FD
    ld   a,$EF
    cp   (hl)
    jp   c,$2801
    pop  hl
    jp   $283E
    pop  hl
    ld   a,($8411)
    ld   (player_sp_y),a
    ld   a,$00
    ld   (player_sp_x),a
    ld   a,$08
    ld   ($8404),a
    ld   a,$08
    ld   ($8414),a
    ret


    ld   a,$00
    ld   (player_sp_x),a
    ld   a,$00
    ld   (player_sp_y),a
    ld   a,$00
    ld   ($8416),a
    nop
    ret

    ld   a,$00
    ld   (player_sp_x),a
    nop
    ld   a,(player_sp_y)
    and  a
    ret  z
    cp   $80
    jp   c,$2794
    jp   $27D6
    nop
    ret
    ld   a,$00
    ld   (player_sp_y),a
    nop
    ld   a,(player_sp_x)
    and  a
    ret  z
    cp   $80
    jp   c,$2752
    jp   $2710
    nop
    ret
    ld   a,($8422)
    and  a
    jp   nz,$28BB
    ld   a,(player_sp_x)
    ld   b,a
    ld   a,(player_x)
    add  a,b
    ld   (player_x),a
    ld   a,(player_sp_y)
    ld   b,a
    ld   a,(player_y)
    add  a,b
    ld   (player_y),a
    ld   a,($8416)
    and  a
    jp   z,$28BB
    ld   a,($8417)
    inc  a
    bit  0,a
    jp   z,$28AC
    ld   a,($8418)
    inc  a
    and  $03
    ld   ($8418),a
    cp   $00
    jp   nz,$2893
    ld   a,$00
    jp   $28A9
    cp   $01
    jp   nz,$289D
    ld   a,$01
    jp   $28A9
    cp   $02
    jp   nz,$28A7
    ld   a,$02
    jp   $28A9
    ld   a,$03
    ld   ($8415),a
    ld   a,($8414)
    and  $FC
    ld   b,a
    ld   a,($8418)
    and  $03
    or   b
    ld   ($8413),a
    ld   hl,$8000
    ld   a,(player_x)
    ld   (hl),a
    inc  hl
    ld   a,($8413)
    ld   (hl),a
    inc  hl
    ld   a,($8412)
    ld   (hl),a
    inc  hl
    ld   a,(player_y)
    ld   (hl),a
    ret
    ld   a,(player_y)
    and  $07
    cp   $02
    ret  nz
    ld   a,(player_x)
    and  $07
    cp   $04
    ret  nz
    call $251B
    push hl
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $F5
    jp   nz,$28F5
    ld   a,$01
    ld   ($842D),a
    pop  hl
    ld   a,($8422)
    and  a
    jp   nz,$2922
    push hl
    call $294C
    pop  hl
    push hl
    call $2923
    pop  hl
    push hl
    call $29A1
    pop  hl
    push hl
    call $29AF
    pop  hl
    push hl
    call $29C8
    pop  hl
    ld   a,($80E0)
    and  a
    jp   nz,$2922
    push hl
    call $295A
    pop  hl
    ret
    ld   bc,$FFE1
    add  hl,bc
    ld   a,(hl)
    cp   $39
    jp   z,$2930
    cp   $3A
    ret  nz
    ld   a,(bomb_placed)
    and  a
    ret  nz
    ld   a,($85C1)
    and  a
    ret  nz
    ld   a,$01
    ld   ($85C1),a
    ld   a,(player_x)
    ld   ($85C2),a
    ld   a,(player_y)
    ld   ($85C3),a
    ret
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $FE
    ret  nz
    ld   a,$04
    ld   ($841F),a
    ret
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $FF
    ret  nz
    ld   a,($842D)
    and  a
    ret  z
    ld   a,(player_y)
    cp   $70
    jp   nc,$297D
    ld   c,$01
    ld   a,($8414)
    rlca
    jp   nc,$298B
    ld   c,$02
    jp   $298B
    ld   c,$21
    ld   a,($8414)
    rlca
    jp   nc,$298B
    ld   c,$22
    jp   $298B
    ld   a,c
    ld   ($80E0),a
    and  a
    ret  z
    ld   a,$05
    ld   ($841F),a
    ld   a,$01
    ld   ($8422),a
    ld   a,$00
    ld   ($842D),a
    ret
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $FC
    ret  nz
    ld   a,$01
    ld   ($80C0),a
    ret
    ld   bc,$FFE2
    add  hl,bc
    ld   a,(hl)
    cp   $F9
    ret  nz
    ld   a,(carrying_1)
    and  a
    ret  z
    ld   a,(carrying_3)
    cp   $01
    ret  nz
    ld   a,$02
    ld   (carrying_3),a
    ret
    ld   a,(carrying_1)
    and  a
    ret  nz
    ld   bc,$FFE1
    add  hl,bc
    ld   a,(hl)
    cp   $DC
    ret  c
    cp   $F0
    ret  nc
    ld   c,$02
    call $3EB2
    ld   ($809C),hl
    ld   a,(hl)
    ld   d,$7A
    cp   $E1
    jp   z,$2A1D
    cp   $E3
    jp   z,$2A1D
    ld   d,$7C
    cp   $E5
    jp   z,$2A1D
    cp   $E7
    jp   z,$2A1D
    ld   d,$7E
    cp   $E9
    jp   z,$2A1D
    cp   $EB
    jp   z,$2A1D
    ld   d,$7D
    cp   $ED
    jp   z,$2A1D
    cp   $EF
    jp   z,$2A1D
    ld   d,$7B
    cp   $DD
    jp   z,$2A1D
    cp   $DF
    jp   z,$2A1D
    set  2,h
    ld   e,(hl)
    ld   hl,$809E
    ld   (hl),e
    inc  hl
    ld   (hl),d
    inc  hl
    ld   (hl),$01
    push hl
    push de
    push bc
    push af
    call $3F62
    ld   hl,$8040
    ld   de,$2A4E
    ld   b,$03
    ld   (hl),$01
    inc  hl
    xor  a
    ld   a,(de)
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    inc  de
    djnz $2A3C
    ld   a,$84
    ld   (watchdog),a
    pop  af
    pop  bc
    pop  de
    pop  hl
    ret
    nop
    ld   (bc),a
    nop
    ld   hl,$8508
    ld   a,(hl)
    and  a
    jp   nz,$2A70
    ld   (hl),$01
    ld   hl,$8528
    ld   bc,$2B5A
    call $31CF
    ld   hl,$852D
    ld   bc,$2B28
    call $31CF
    call $2B1F
    ld   hl,$8529
    ld   de,$8500
    ld   bc,$FFEF
    ld   a,(de)
    and  a
    call z,$2AF1
    ld   hl,$850A
    ld   a,(hl)
    and  a
    jp   nz,$2A9D
    ld   (hl),$01
    ld   hl,$8568
    ld   bc,$2BB0
    call $31CF
    ld   hl,$856D
    ld   bc,$2B28
    call $31CF
    call $2B1F
    ld   hl,$8569
    ld   de,$8504
    ld   bc,$FFEF
    ld   a,(de)
    and  a
    call z,$2AF1
    ld   hl,$850B
    ld   a,(hl)
    and  a
    jp   nz,$2ACA
    ld   (hl),$01
    ld   hl,$8588
    ld   bc,$2C06
    call $31CF
    ld   hl,$858D
    ld   bc,$2B28
    call $31CF
    call $2B1F
    ld   hl,$8589
    ld   de,$8506
    ld   bc,$FFEF
    ld   a,(de)
    and  a
    call z,$2AF1
    ld   hl,$8500
    ld   a,(hl)
    and  a
    call nz,setup_cat_1
    ld   hl,$8504
    ld   a,(hl)
    and  a
    call nz,setup_cat_2
    ld   hl,$8506
    ld   a,(hl)
    and  a
    call nz,setup_cat_3
    ret
    push bc
    ld   b,(hl)
    dec  hl
    ld   a,(hl)
    or   b
    pop  bc
    jp   nz,$2B13
    add  hl,bc
    ld   a,(hl)
    cp   $03
    jp   nz,$2B0F
    inc  hl
    ld   a,(hl)
    and  $07
    cp   $04
    ret  nz
    inc  hl
    ld   a,(hl)
    and  $07
    cp   $02
    ret  nz
    ld   a,$01
    ld   (de),a
    ret
    ld   a,(hl)
    and  a
    jp   z,$2B1A
    dec  (hl)
    ret
    ld   (hl),$3C
    inc  hl
    dec  (hl)
    ret
    xor  a
    inc  hl
    ld   (hl),a
    ld   bc,$FFE8
    add  hl,bc
    ld   (hl),a
    ret
    inc  a
    ld   a,b
    inc  a
    ld   h,h
    inc  a
    ld   e,d
    inc  a
    ld   b,(hl)
    inc  a
    inc  a
    inc  a
    ld   ($283C),a
    inc  a
    ld   e,$3C
    inc  d
    inc  a
    nop

 setup_cat_1:
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$2B6E
    ld   a,($803E)
    and  a
    ret  nz
    ld   (hl),$01
    ld   de,cat1_bytes
    ld   hl,$2B75
    ld   bc,$001D
    ldir
    ld   a,$87
    ld   (watchdog),a
    ret

    jr   nc,$2B5E
    jr   nc,$2B60
    jr   nc,$2B62
    inc  (hl)
    ld   bc,$0030
    jr   nc,$2B66
    jr   nc,$2B68
    jr   nc,$2B6A
    djnz $2B6C
    djnz $2B6E
    ld   hl,$8517
    call $2C3E
    ret
    nop
    nop
    nop
    dec  b
    inc  e
    nop
    nop
    ld   bc,$42B4
    nop
    nop
    nop
    rst  $38
    ld   bc,$0100
    rst  $38
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
     byte 01     ; what?
     nop

 setup_cat_2:
	    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$2BC4
    ld   a,($803E)
    and  a
    ret  nz
    ld   (hl),$01
    ld   de,cat2_bytes
    ld   hl,$2BCB
    ld   bc,$001D
    ldir
    ld   a,$87
    ld   (watchdog),a
    ret
    inc  d
    ld   d,$14
    inc  d
    inc  d
    rrca
    inc  d
    dec  c
    nop
    dec  bc
    nop
    add  hl,bc
    jr   $2BC4
    jr   z,$2BC5
    jr   z,$2BC7
    djnz $2BC8
    ld   hl,$8557
    call $2C3E
    ret
    nop
    nop
    nop
    dec  c
    inc  e
    nop
    nop
    ld   bc,$4234
    nop
    nop
    nop
    rst  $38
    ld   bc,$0100
    rst  $38
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
     byte 01
     nop

 setup_cat_3:
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$2C1A
    ld   a,($803E)
    and  a
    ret  nz
    ld   (hl),$01
    ld   de,$8570
    ld   hl,$2C21
    ld   bc,$001D
    ldir
    ld   a,$87
    ld   (watchdog),a
    ret
    inc  h
    ld   b,$24
    ld   b,$14
    ld   (bc),a
    nop
    ld   (bc),a
    jr   nc,$2C10
    jr   nc,$2C12
    jr   nc,$2C14
    jr   nc,$2C16
    djnz $2C18
    djnz $2C1A
    ld   hl,$8577
    call $2C3E
    ret
    nop
    nop
    nop
    ld   de,$001C
    nop
    ld   bc,$C234
    nop
    nop
    nop
    rst  $38
    ld   bc,$0100
    rst  $38
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   bc,$E500
    ex   de,hl
    ld   hl,$0018
    add  hl,de
    ld   d,h
    ld   e,l
    dec  hl
    ld   a,(de)
    and  a
    ld   bc,$FFEA
    call z,$2AF1
    pop  hl
    ld   a,(hl)
    cp   $01
    jp   z,$2C70
    cp   $03
    jp   z,$2CB6
    cp   $04
    jp   z,$30DD
    cp   $05
    jp   z,$311C
    cp   $06
    jp   z,$3150
    cp   $07
    jp   z,$3184
    ret
    ld   a,($803E)
    and  a
    ret  nz
    ex   de,hl
    ld   b,d
    ld   c,e
    ld   hl,$0013
    add  hl,de
    dec  de
    dec  de
    dec  de
    dec  de
    inc  (hl)
    ld   a,(hl)
    cp   $80
    jp   nc,$2C98
    and  $1F
    cp   $10
    jp   c,$2C92
    call $309C
    ret
    ld   b,$1F
    call $2CA2
    ret
    inc  hl
    ld   (hl),$00
    ld   a,$03
    ld   (bc),a
    call $309C
    ret
    ld   a,(de)
    ld   hl,$0005
    add  hl,de
    ex   de,hl
    ld   l,a
    ld   h,$80
    ld   (hl),b
    dec  hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    inc  de
    ld   a,(de)
    ld   (hl),a
    ret
    ex   de,hl
    ld   hl,$0010
    add  hl,de
    ld   a,(hl)
    and  a
    jp   z,$2CC6
    dec  (hl)
    ex   de,hl
    inc  hl
    jp   $2DB5
    inc  de
    ld   bc,$FFFB
    add  hl,bc
    ex   de,hl
    ld   b,$07
    ld   a,$14
    cp   (hl)
    jp   z,$2CDC
    add  a,$20
    djnz $2CD0
    inc  hl
    jp   $2DB4
    inc  hl
    ld   b,$07
    ld   a,$22
    cp   (hl)
    jp   z,$2D49
    add  a,$20
    djnz $2CE1
    jp   $2DB4
    ld   a,r
    and  $03
    cp   $01
    jp   nz,$2CF8
    ld   (hl),$01
    ret
    cp   $02
    jp   nz,$2D00
    ld   (hl),$02
    ret
    cp   $03
    jp   nz,$2D08
    ld   (hl),$04
    ret
    cp   $00
    ret  nz
    ld   (hl),$08
    ret
    ld   b,d
    ld   c,e
    ld   d,h
    ld   e,l
    dec  de
    ex   de,hl
    ld   a,(bc)
    and  a
    jp   nz,$2D31
    ld   a,$01
    ld   (bc),a
    ld   a,($8003)
    cp   (hl)
    dec  hl
    ex   de,hl
    jp   z,$2D2E
    jp   c,$2D2B
    ld   (hl),$04
    ret
    ld   (hl),$08
    ret
    ld   (hl),$00
    ret
    dec  hl
    ld   a,$00
    ld   (bc),a
    ld   a,($8000)
    cp   (hl)
    ex   de,hl
    jp   z,$2D46
    jp   c,$2D43
    ld   (hl),$02
    ret
    ld   (hl),$01
    ret
    ld   (hl),$00
    ret
    push hl
    ld   bc,$0013
    add  hl,bc
    inc  (hl)
    ld   b,h
    ld   c,l
    pop  hl
    inc  hl
    ld   a,l
    and  $F0
    cp   $10
    jp   nz,$2D6D
    ld   a,(bc)
    and  $03
    cp   $00
    call nz,$2D0E
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    ld   (hl),$30
    jp   $2DB2
    cp   $30
    jp   nz,$2D84
    ld   a,(bc)
    and  $03
    cp   $02
    call nz,$2D0E
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    ld   (hl),$10
    jp   $2DB2
    cp   $50
    jp   nz,$2D9B
    ld   a,(bc)
    and  $07
    cp   $05
    call nz,$2D0E
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    ld   (hl),$20
    jp   $2DB2
    cp   $70
    nop
    nop
    nop
    jp   nz,$2D9E
    ld   a,(bc)
    and  $07
    cp   $07
    call nz,$2D0E
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    ld   (hl),$10
    ex   de,hl
    dec  hl
    dec  hl
    ld   d,h
    ld   e,l
    ld   a,(hl)
    inc  hl
    and  $07
    cp   $04
    jp   nz,$3043
    ld   a,(hl)
    and  $07
    cp   $02
    jp   nz,$3043
    ex   de,hl
    call $30B3
    ld   bc,$FFE2
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   nz,$2DF2
    dec  de
    ld   a,$95
    ld   (watchdog),a
    ld   a,$04
    ld   (de),a
    ld   hl,$0014
    add  hl,de
    ld   (hl),$01
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$1C
    ld   hl,$0003
    add  hl,de
    ld   (hl),$00
    inc  de
    ex   de,hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  hl
    dec  de
    ld   a,(hl)
    rrca
    jp   c,$2EC4
    rrca
    jp   c,$2F10
    rrca
    jp   c,$2F5C
    rrca
    jp   c,$2FAA
    ex   de,hl
    ld   hl,$FFFC
    add  hl,de
    dec  (hl)
    ex   de,hl
    inc  hl
    inc  hl
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   (hl),a
    jp   $305D
    inc  de
    inc  de
    ld   a,(de)
    cp   $03
    jp   nc,$2E74
    ld   a,r
    and  $0F
    cp   $02
    jp   c,$2E44
    cp   $09
    ld   a,$EF
    jp   c,$2E61
    ld   hl,$FFE1
    add  hl,bc
    cp   (hl)
    jp   c,$2E5B
    ld   hl,$FFE3
    add  hl,bc
    cp   (hl)
    jp   c,$2E55
    ex   de,hl
    ld   a,(hl)
    cp   $01
    jp   z,$2E50
    ld   (hl),$01
    jp   $2E09
    ld   (hl),$02
    jp   $2E09
    ex   de,hl
    ld   (hl),$04
    jp   $2E09
    ex   de,hl
    ld   (hl),$08
    jp   $2E09
    ld   hl,$FFE3
    add  hl,bc
    cp   (hl)
    jp   c,$2E55
    ld   hl,$FFE1
    add  hl,bc
    cp   (hl)
    jp   c,$2E5B
    jp   $2E44
    ld   a,r
    and  $0F
    cp   $02
    jp   c,$2E94
    cp   $09
    ld   a,$EF
    jp   c,$2EB1
    ld   hl,$FFC2
    add  hl,bc
    cp   (hl)
    jp   c,$2EA5
    ld   hl,$0002
    add  hl,bc
    cp   (hl)
    jp   c,$2EAB
    ex   de,hl
    ld   a,(hl)
    cp   $04
    jp   z,$2EA0
    ld   (hl),$04
    jp   $2E09
    ld   (hl),$08
    jp   $2E09
    ex   de,hl
    ld   (hl),$02
    jp   $2E09
    ex   de,hl
    ld   (hl),$01
    jp   $2E09
    ld   hl,$0002
    add  hl,bc
    cp   (hl)
    jp   c,$2EAB
    ld   hl,$FFC2
    add  hl,bc
    cp   (hl)
    jp   c,$2EA5
    jp   $2E94
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   a,(de)
    cp   $0C
    jp   z,$2E09
    jp   nc,$2ED7
    ld   a,$0C
    ld   (de),a
    jp   $2E09
    inc  de
    call $30B3
    ld   b,h
    ld   c,l
    ld   hl,$0002
    add  hl,bc
    ld   a,$EF
    cp   (hl)
    jp   nc,$2E1C
    ld   hl,$000D
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $30CE
    and  a
    jp   nz,$2EFC
    ld   hl,$0002
    call $30CE
    ld   hl,$FFF7
    add  hl,de
    ld   d,h
    ld   e,l
    inc  de
    ld   a,(de)
    ld   (hl),a
    ld   a,$00
    inc  de
    inc  de
    ld   (de),a
    ld   hl,$0006
    jp   $304B
    inc  hl
    ld   (hl),$80
    inc  hl
    ld   a,(de)
    cp   $E4
    jp   z,$2E09
    jp   c,$2F23
    ld   a,$E4
    ld   (de),a
    jp   $2E09
    inc  de
    call $30B3
    ld   b,h
    ld   c,l
    ld   hl,$FFC2
    add  hl,bc
    ld   a,$EF
    cp   (hl)
    jp   nc,$2E1C
    ld   hl,$000D
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $30CE
    and  a
    jp   nz,$2F48
    ld   hl,$FFC2
    call $30CE
    ld   hl,$FFF7
    add  hl,de
    ld   d,h
    ld   e,l
    inc  de
    inc  de
    ld   a,(de)
    ld   (hl),a
    ld   a,$00
    inc  de
    ld   (de),a
    ld   hl,$0006
    jp   $304B
    inc  hl
    ld   (hl),$04
    inc  hl
    inc  de
    ld   a,(de)
    cp   $EC
    jp   z,$2E09
    jp   c,$2F70
    ld   a,$E4
    ld   (de),a
    jp   $2E09
    call $30B3
    ld   b,h
    ld   c,l
    ld   hl,$FFE3
    add  hl,bc
    ld   a,$EF
    cp   (hl)
    jp   nc,$2E1C
    ld   hl,$000D
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $30CE
    and  a
    jp   nz,$2F94
    ld   hl,$FFE3
    call $30CE
    ld   hl,$FFF7
    add  hl,de
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  de
    ld   a,(de)
    ld   (hl),a
    ex   de,hl
    ld   hl,$0006
    jp   $304B
    inc  hl
    ld   (hl),$08
    inc  hl
    inc  de
    ld   a,(de)
    cp   $14
    jp   z,$2E09
    jp   nc,$2FBE
    ld   a,$14
    ld   (de),a
    jp   $2E09
    call $30B3
    ld   b,h
    ld   c,l
    ld   hl,$FFE1
    add  hl,bc
    ld   a,$EF
    cp   (hl)
    jp   nc,$2E1C
    ld   hl,$000D
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $30CE
    and  a
    jp   nz,$2FE2
    ld   hl,$FFE1
    call $30CE
    ld   hl,$FFF7
    add  hl,de
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  de
    inc  de
    ld   a,(de)
    ld   (hl),a
    ex   de,hl
    ld   hl,$0006
    jp   $304B
    ld   a,(hl)
    cp   $01
    jp   nz,$3002

 ;;; ============ start of suprmous.x4 (plus 1 byte!)  =============

    ld   (hl),$02
    ret
    cp   $FF
    ret  nz
    ld   (hl),$FE
    ret
    ld   a,(hl)
    cp   $02
    jp   nz,$3011
    ld   (hl),$01
    ret
    cp   $FE
    ret  nz
    ld   (hl),$FF
    ret
    nop
    nop
    nop
    nop
    dec  hl
    dec  hl
    dec  hl
    inc  de
    ld   a,(de)
    and  $03
    and  a
    jp   nz,$3028
    ld   a,$03
    dec  a
    ld   (de),a
    cp   $01
    jp   nz,$3039
    call $2FF9
    inc  hl
    inc  hl
    inc  hl
    call $2FF9
    ret
    call $3008
    inc  hl
    inc  hl
    inc  hl
    call $3008
    ret
    ld   hl,$0007
    add  hl,de
    ex   de,hl
    ld   hl,$0006
    add  hl,de
    ex   de,hl
    ld   b,h
    ld   c,l
    ld   hl,$0010
    add  hl,bc
    ld   a,(hl)
    ld   h,b
    ld   l,c
    and  a
    call nz,$3017
    nop
    nop
    nop
    nop
    nop
    nop
    ld   d,h
    ld   e,l
    ld   bc,$FFFA
    add  hl,bc
    ld   a,(de)
    add  a,(hl)
    ld   (hl),a
    dec  de
    dec  de
    dec  de
    dec  hl
    ld   a,(de)
    add  a,(hl)
    ld   (hl),a
    dec  hl
    dec  hl
    ld   a,(hl)
    inc  a
    and  $07
    ld   (hl),a
    cp   $04
    jp   c,$3081
    ld   (hl),$00
    dec  hl
    inc  (hl)
    inc  hl
    dec  hl
    dec  de
    call $308A
    call $309C
    ret
    ld   a,(hl)
    and  $03
    ld   b,a
    ld   a,(de)
    and  $CC
    ld   c,a
    dec  hl
    ld   a,(hl)
    and  $30
    or   b
    or   c
    ld   (hl),a
    ex   de,hl
    dec  de
    ret
    ld   a,(de)
    ld   l,a
    ld   h,$80
    inc  de
    ld   a,(de)
    ld   (hl),a
    inc  de
    inc  de
    inc  de
    inc  de
    dec  hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  hl
    ld   (hl),$06
    inc  hl
    inc  de
    ld   a,(de)
    ld   (hl),a
    ret
    ld   a,(de)
    rrca
    rrca
    rrca
    and  $1F
    ld   l,a
    dec  de
    ld   a,(de)
    neg
    rlca
    rlca
    ld   h,a
    and  $E0
    or   l
    ld   l,a
    ld   a,h
    and  $03
    ld   h,a
    ld   a,$90
    add  a,h
    ld   h,a
    ret
    add  hl,bc
    ld   a,$F4
    cp   (hl)
    jp   z,$30D9
    ld   a,$00
    ld   (de),a
    ret
    ld   a,$01
    ld   (de),a
    ret
    ex   de,hl
    ld   hl,$FFF9
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    cp   $10
    jp   c,$3113
    jp   z,$30FE
    and  $07
    cp   $00
    jp   nz,$3104
    ld   hl,$FFFD
    add  hl,de
    ld   a,$80
    add  a,(hl)
    ld   (hl),a
    jp   $3104
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$5C
    ld   h,d
    ld   l,e
    inc  hl
    inc  hl
    ld   a,(hl)
    add  a,$02
    cp   $E0
    jp   c,$3112
    ld   a,$E0
    ld   (hl),a
    ld   hl,$FFFC
    add  hl,de
    ex   de,hl
    call $309C
    ret
    ex   de,hl
    ld   hl,$FFFA
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    inc  hl
    inc  hl
    inc  hl
    cp   $01
    jp   nz,$312D
    ld   (hl),$5D
    cp   $08
    jp   nz,$3134
    ld   (hl),$31
    cp   $14
    jp   nz,$313B
    ld   (hl),$30
    cp   $20
    jp   nz,$3142
    ld   (hl),$2A
    cp   $80
    jp   c,$314A
    ld   a,$07
    ld   (de),a
    ex   de,hl
    dec  de
    call $309C
    ret
    ex   de,hl
    ld   hl,$FFFA
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    inc  hl
    inc  hl
    inc  hl
    cp   $01
    jp   nz,$3161
    ld   (hl),$1C
    cp   $08
    jp   nz,$3168
    ld   (hl),$1D
    cp   $14
    jp   nz,$316F
    ld   (hl),$1E
    cp   $20
    jp   nz,$3176
    ld   (hl),$2A
    cp   $80
    jp   c,$317E
    ld   a,$07
    ld   (de),a
    ex   de,hl
    dec  de
    call $309C
    ret
    ld   c,$00
    inc  hl
    ld   (hl),c
    inc  hl
    ld   (hl),c
    ld   d,h
    ld   a,l
    cp   $19
    jp   nz,$3195
    ld   e,c
    jp   $31B4
    cp   $39
    jp   nz,$319F
    ld   e,$02
    jp   $31B4
    cp   $59
    jp   nz,$31A9
    ld   e,$04
    jp   $31B4
    cp   $79
    jp   z,$31B2
    nop
    jp   $31AE
    ld   e,$06
    ex   de,hl
    ld   (hl),c
    inc  hl
    ld   (hl),c
    ex   de,hl
    ld   de,$FFFA
    add  hl,de
    ex   de,hl
    ld   hl,$0015
    ld   bc,$31EF
    add  hl,de
    call $31CF
    call $309C
    ret
    nop
    nop
    nop
    push hl
    ld   h,b
    ld   l,c
    ld   a,($8101)
    cp   $09
    jp   c,$31DC
    ld   a,$09
    and  a
    jp   z,$31E5
    ld   b,a
    inc  hl
    inc  hl
    djnz $31E1
    ld   c,(hl)
    inc  hl
    ld   b,(hl)
    pop  hl
    ld   (hl),c
    inc  hl
    ld   (hl),b
    ret
    nop
    nop
    nop
    ex   af,af'
    inc  d
    inc  b
    nop
    inc  b
    nop
    inc  b
    inc  d
    inc  bc
    inc  d
    inc  bc
    inc  d
    inc  bc
    inc  d
    ld   (bc),a
    inc  d
    ld   (bc),a
    inc  d
    ld   (bc),a
    nop
    nop
    nop
    nop
    nop
    nop
    ld   hl,$8608
    ld   a,(hl)
    and  a
    jp   nz,$321C
    ld   (hl),$01
    ld   hl,$8628
    ld   bc,$3315
    call $32F7
    ld   de,$8600
    ld   hl,$8629
    ld   a,(de)
    and  a
    call z,$3256
    ld   hl,$8609
    ld   a,(hl)
    and  a
    jp   nz,$323A
    ld   (hl),$01
    ld   hl,$8648
    ld   bc,$332B
    call $32F7
    ld   de,$8602
    ld   hl,$8649
    ld   a,(de)
    and  a
    call z,$3256
    ld   hl,$8600
    ld   a,(hl)
    and  a
    call nz,$326D
    ld   hl,$8602
    ld   a,(hl)
    and  a
    call nz,$32B2
    ret
    ld   b,(hl)
    dec  hl
    ld   a,(hl)
    or   b
    jp   nz,$3261
    ld   a,$01
    ld   (de),a
    ret
    ld   a,(hl)
    and  a
    jp   z,$3268
    dec  (hl)
    ret
    ld   (hl),$FF
    inc  hl
    dec  (hl)
    ret
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$328B
    ld   a,($803E)
    and  a
    ret  nz
    ld   (hl),$01
    ld   de,$8610
    ld   hl,$3292
    ld   bc,$0020
    ldir
    ld   a,$86
    ld   (watchdog),a
    ret
    ld   hl,$8617
    call $333F
    ret
    nop
    nop
    nop
    dec  d
    inc  l
    nop
    nop
    ld   bc,$C2B4
    nop
    nop
    nop
    rst  $38
    ld   bc,$0100
    rst  $38
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   bc,$0000
    nop
    nop
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$32D0
    ld   a,($803E)
    and  a
    ret  nz
    ld   (hl),$01
    ld   de,$8630
    ld   hl,$32D7
    ld   bc,$0020
    ldir
    ld   a,$86
    ld   (watchdog),a
    ret
    ld   hl,$8637
    call $333F
    ret
    nop
    nop
    nop
    add  hl,de
    inc  l
    nop
    nop
    ld   bc,$C2B4
    nop
    nop
    nop
    rst  $38
    ld   bc,$0100
    rst  $38
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   bc,$0000
    nop
    nop
    push hl
    ld   h,b
    ld   l,c
    ld   a,($8101)
    cp   $09
    jp   c,$3304
    ld   a,$09
    and  a
    jp   z,$330D
    ld   b,a
    inc  hl
    inc  hl
    djnz $3309
    ld   c,(hl)
    inc  hl
    ld   b,(hl)
    pop  hl
    ld   (hl),c
    inc  hl
    ld   (hl),b
    ret
    jr   nc,$3318
    nop
    ld   bc,$00B0
    ld   (hl),b
    nop
    jr   nc,$331F
    jr   nc,$3321
    jr   nc,$3323
    jr   nc,$3325
    jr   nc,$3327
    nop
    nop
    nop
    nop
    sub  b
    inc  bc
    jr   nz,$3332
    ret  po
    ld   (bc),a
    and  b
    ld   (bc),a
    ld   h,b
    ld   (bc),a
    ld   b,b
    ld   (bc),a
    jr   nz,$333B
    ret  nc
    ld   bc,$0190
    ld   d,b
    nop
    ld   a,(hl)
    cp   $01
    jp   z,$335F
    cp   $03
    jp   z,$33A5
    cp   $04
    jp   z,$381B
    cp   $05
    jp   z,$385A
    cp   $06
    jp   z,$388E
    cp   $07
    jp   z,$38C2
    ret
    ld   a,($803E)
    and  a
    ret  nz
    ex   de,hl
    ld   b,d
    ld   c,e
    ld   hl,$0013
    add  hl,de
    dec  de
    dec  de
    dec  de
    dec  de
    inc  (hl)
    ld   a,(hl)
    cp   $80
    jp   nc,$3387
    and  $1F
    cp   $10
    jp   c,$3381
    call $37B3
    ret
    ld   b,$2F
    call $3391
    ret
    inc  hl
    ld   (hl),$00
    ld   a,$03
    ld   (bc),a
    call $37B3
    ret
    ld   a,(de)
    ld   hl,$0005
    add  hl,de
    ex   de,hl
    ld   l,a
    ld   h,$80
    ld   (hl),b
    dec  hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    inc  de
    ld   a,(de)
    ld   (hl),a
    ret
    ex   de,hl
    ld   hl,$0010
    add  hl,de
    ld   a,(hl)
    and  a
    jp   z,$33B5
    dec  (hl)
    ex   de,hl
    inc  hl
    jp   $349A
    inc  de
    ld   bc,$FFFB
    add  hl,bc
    ex   de,hl
    ld   b,$07
    ld   a,$14
    cp   (hl)
    jp   z,$33CB
    add  a,$20
    djnz $33BF
    inc  hl
    jp   $3499
    inc  hl
    ld   b,$07
    ld   a,$22
    cp   (hl)
    jp   z,$344B
    add  a,$20
    djnz $33D0
    jp   $3499
    ld   a,r
    and  $03
    cp   $01
    jp   nz,$33E7
    ld   (hl),$01
    ret
    cp   $02
    jp   nz,$33EF
    ld   (hl),$02
    ret
    cp   $03
    jp   nz,$33F7
    ld   (hl),$04
    ret
    cp   $00
    ret  nz
    ld   (hl),$08
    ret
    ld   b,d
    ld   c,e
    ld   d,h
    ld   e,l
    dec  de
    ex   de,hl
    ld   a,(bc)
    inc  a
    cp   $09
    jp   c,$340C
    ld   a,$00
    ld   (bc),a
    cp   $01
    jp   z,$3436
    cp   $03
    jp   z,$3436
    cp   $04
    jp   z,$3436
    cp   $06
    jp   z,$3436
    ld   a,($8003)
    cp   (hl)
    dec  hl
    ex   de,hl
    jp   z,$3433
    jp   c,$3430
    ld   (hl),$04
    ret
    ld   (hl),$08
    ret
    ld   (hl),$00
    ret
    dec  hl
    ld   a,($8000)
    cp   (hl)
    ex   de,hl
    jp   z,$3448
    jp   c,$3445
    ld   (hl),$02
    ret
    ld   (hl),$01
    ret
    ld   (hl),$00
    ret
    push hl
    ld   bc,$0013
    add  hl,bc
    inc  (hl)
    ld   b,h
    ld   c,l
    pop  hl
    inc  hl
    ld   a,l
    and  $F0
    cp   $10
    jp   nz,$347B
    ld   a,(bc)
    push af
    and  $03
    cp   $00
    call nz,$33FD
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    pop  af
    bit  4,a
    jp   z,$3476
    ld   (hl),$30
    jp   $3497
    ld   (hl),$10
    jp   $3497
    cp   $30
    nop
    nop
    nop
    jp   nz,$347E
    ld   a,(bc)
    push af
    and  $03
    cp   $02
    call nz,$33FD
    ex   de,hl
    ld   hl,$000D
    add  hl,de
    pop  af
    add  a,$18
    jp   $346C
    ex   de,hl
    dec  hl
    dec  hl
    ld   d,h
    ld   e,l
    ld   a,(hl)
    inc  hl
    and  $07
    cp   $04
    jp   nz,$3710
    ld   a,(hl)
    and  $07
    cp   $02
    jp   nz,$3710
    ex   de,hl
    call $37CA
    ld   bc,$FFE2
    add  hl,bc
    ld   a,$FE
    cp   (hl)
    jp   nz,$34D7
    dec  de
    ld   a,$95
    ld   (watchdog),a
    ld   a,$04
    ld   (de),a
    ld   hl,$0014
    add  hl,de
    ld   (hl),$01
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$2C
    ld   hl,$0003
    add  hl,de
    ld   (hl),$00
    inc  de
    ex   de,hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  hl
    dec  de
    ld   a,(hl)
    rrca
    jp   c,$359F
    rrca
    jp   c,$35FA
    rrca
    jp   c,$3655
    rrca
    jp   c,$36B2
    ex   de,hl
    ld   hl,$FFFC
    add  hl,de
    dec  (hl)
    ex   de,hl
    inc  hl
    inc  hl
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   (hl),a
    jp   $3774
    inc  de
    inc  de
    ld   a,(de)
    cp   $03
    jp   nc,$3554
    ld   a,r
    and  $0F
    cp   $09
    ld   a,$DF
    jp   c,$3541
    ld   hl,$FFE1
    add  hl,bc
    cp   (hl)
    jp   c,$353B
    ld   hl,$FFE3
    add  hl,bc
    cp   (hl)
    jp   c,$3535
    ex   de,hl
    ld   a,(hl)
    cp   $01
    jp   z,$3530
    ld   (hl),$01
    jp   $34EE
    ld   (hl),$02
    jp   $34EE
    ex   de,hl
    ld   (hl),$04
    jp   $34EE
    ex   de,hl
    ld   (hl),$08
    jp   $34EE
    ld   hl,$FFE3
    add  hl,bc
    cp   (hl)
    jp   c,$3535
    ld   hl,$FFE1
    add  hl,bc
    cp   (hl)
    jp   c,$353B
    jp   $3524
    ld   a,r
    and  $0F
    cp   $09
    ld   a,$DF
    jp   c,$358C
    ld   hl,$FFC2
    add  hl,bc
    cp   (hl)
    jp   c,$3580
    ld   hl,$0002
    add  hl,bc
    cp   (hl)
    jp   c,$3586
    ex   de,hl
    ld   a,(hl)
    cp   $04
    jp   z,$357B
    ld   (hl),$04
    jp   $34EE
    ld   (hl),$08
    jp   $34EE
    ex   de,hl
    ld   (hl),$02
    jp   $34EE
    ex   de,hl
    ld   (hl),$01
    jp   $34EE
    ld   hl,$0002
    add  hl,bc
    cp   (hl)
    jp   c,$3586
    ld   hl,$FFC2
    add  hl,bc
    cp   (hl)
    jp   c,$3580
    jp   $356F
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   a,(de)
    cp   $0C
    jp   z,$34EE
    jp   nc,$35B2
    ld   a,$0C
    ld   (de),a
    jp   $34EE
    inc  de
    call $37CA
    ld   b,h
    ld   c,l
    ld   hl,$0002
    add  hl,bc
    ld   a,$DF
    cp   (hl)
    jp   nc,$3501
    ld   hl,$000B
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $37E5
    and  a
    jp   nz,$35D7
    ld   hl,$0002
    call $37E5
    inc  de
    inc  de
    ld   hl,$FFE2
    call $380C
    and  a
    jp   nz,$35E9
    ld   hl,$0002
    call $380C
    ld   hl,$FFF7
    add  hl,de
    ld   d,h
    ld   e,l
    inc  de
    ld   a,(de)
    ld   (hl),a
    ld   a,$00
    inc  de
    inc  de
    ld   (de),a
    jp   $3722
    inc  hl
    ld   (hl),$80
    inc  hl
    ld   a,(de)
    cp   $E4
    jp   z,$34EE
    jp   c,$360D
    ld   a,$E4
    ld   (de),a
    jp   $34EE
    inc  de
    call $37CA
    ld   b,h
    ld   c,l
    ld   hl,$FFC2
    add  hl,bc
    ld   a,$DF
    cp   (hl)
    jp   nc,$3501
    ld   hl,$000B
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $37E5
    and  a
    jp   nz,$3632
    ld   hl,$FFC2
    call $37E5
    inc  de
    inc  de
    ld   hl,$FFE2
    call $380C
    and  a
    jp   nz,$3644
    ld   hl,$FFC2
    call $380C
    ld   hl,$FFF7
    add  hl,de
    ld   d,h
    ld   e,l
    inc  de
    inc  de
    ld   a,(de)
    ld   (hl),a
    ld   a,$00
    inc  de
    ld   (de),a
    jp   $3722
    inc  hl
    ld   (hl),$04
    inc  hl
    inc  de
    ld   a,(de)
    cp   $EC
    jp   z,$34EE
    jp   c,$3669
    ld   a,$EC
    ld   (de),a
    jp   $34EE
    call $37CA
    ld   b,h
    ld   c,l
    ld   hl,$FFE3
    add  hl,bc
    ld   a,$DF
    cp   (hl)
    jp   nc,$3501
    ld   hl,$000B
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $37E5
    and  a
    jp   nz,$368D
    ld   hl,$FFE3
    call $37E5
    inc  de
    inc  de
    ld   hl,$FFE2
    call $380C
    and  a
    jp   nz,$369F
    ld   hl,$FFE3
    call $380C
    ld   hl,$FFF7
    add  hl,de
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  de
    ld   a,(de)
    ld   (hl),a
    ex   de,hl
    jp   $3722
    inc  hl
    ld   (hl),$44
    inc  hl
    inc  de
    ld   a,(de)
    cp   $14
    jp   z,$34EE
    jp   nc,$36C6
    ld   a,$14
    ld   (de),a
    jp   $34EE
    call $37CA
    ld   b,h
    ld   c,l
    ld   hl,$FFE1
    add  hl,bc
    ld   a,$DF
    cp   (hl)
    jp   nc,$3501
    ld   hl,$000B
    add  hl,de
    ex   de,hl
    ld   hl,$FFE2
    call $37E5
    and  a
    jp   nz,$36EA
    ld   hl,$FFE1
    call $37E5
    inc  de
    inc  de
    ld   hl,$FFE2
    call $380C
    and  a
    jp   nz,$36FC
    ld   hl,$FFE1
    call $380C
    ld   hl,$FFF7
    add  hl,de
    ld   a,$00
    ld   (hl),a
    inc  hl
    inc  hl
    inc  hl
    ld   d,h
    ld   e,l
    inc  de
    inc  de
    ld   a,(de)
    ld   (hl),a
    ex   de,hl
    jp   $3722
    ld   hl,$0007
    add  hl,de
    ex   de,hl
    ld   hl,$000E
    add  hl,de
    ld   b,h
    ld   c,l
    ld   hl,$0005
    add  hl,de
    jp   $3730
    ld   hl,$000E
    add  hl,de
    ld   b,h
    ld   c,l
    ld   (hl),$00
    ld   hl,$0005
    add  hl,de
    ld   (hl),$00
    ex   de,hl
    dec  de
    ld   a,(de)
    and  a
    jp   z,$3745
    inc  de
    ld   a,(de)
    inc  a
    and  $03
    ld   (de),a
    cp   $01
    jp   z,$3774
    jp   $3768
    inc  de
    inc  de
    ld   a,(de)
    and  a
    jp   z,$3759
    ld   a,(bc)
    inc  a
    and  $01
    ld   (bc),a
    cp   $01
    jp   z,$3774
    jp   $3768
    ld   a,(bc)
    inc  a
    and  $07
    ld   (bc),a
    cp   $03
    jp   z,$3768
    cp   $05
    jp   nz,$3774
    ld   d,h
    ld   e,l
    ld   hl,$FFF9
    add  hl,de
    dec  de
    dec  de
    dec  de
    jp   $3787
    nop
    nop
    nop
    ld   d,h
    ld   e,l
    ld   bc,$FFFA
    add  hl,bc
    ld   a,(de)
    add  a,(hl)
    ld   (hl),a
    dec  de
    dec  de
    dec  de
    dec  hl
    ld   a,(de)
    add  a,(hl)
    ld   (hl),a
    dec  hl
    dec  hl
    ld   a,(hl)
    inc  a
    and  $07
    ld   (hl),a
    cp   $04
    jp   c,$3798
    ld   (hl),$00
    dec  hl
    inc  (hl)
    inc  hl
    dec  hl
    dec  de
    call $37A1
    call $37B3
    ret
    ld   a,(hl)
    and  $03
    ld   b,a
    ld   a,(de)
    and  $CC
    ld   c,a
    dec  hl
    ld   a,(hl)
    and  $30
    or   b
    or   c
    ld   (hl),a
    ex   de,hl
    dec  de
    ret
    ld   a,(de)
    ld   l,a
    ld   h,$80
    inc  de
    ld   a,(de)
    ld   (hl),a
    inc  de
    inc  de
    inc  de
    inc  de
    dec  hl
    ld   a,(de)
    ld   (hl),a
    inc  hl
    inc  hl
    ld   (hl),$06
    inc  hl
    inc  de
    ld   a,(de)
    ld   (hl),a
    ret
    ld   a,(de)
    rrca
    rrca
    rrca
    and  $1F
    ld   l,a
    dec  de
    ld   a,(de)
    neg
    rlca
    rlca
    ld   h,a
    and  $E0
    or   l
    ld   l,a
    ld   a,h
    and  $03
    ld   h,a
    ld   a,$90
    add  a,h
    ld   h,a
    ret
    add  hl,bc
    ld   a,$E1
    cp   (hl)
    jp   z,$3808
    ld   a,$E2
    cp   (hl)
    jp   z,$3808
    ld   a,$E3
    cp   (hl)
    jp   z,$3808
    ld   a,$E4
    cp   (hl)
    jp   z,$3808
    nop
    nop
    nop
    nop
    nop
    nop
    ld   a,$00
    ld   (de),a
    ret
    ld   a,$01
    ld   (de),a
    ret
    add  hl,bc
    ld   a,$E0
    cp   (hl)
    jp   z,$3817
    ld   a,$00
    ld   (de),a
    ret
    ld   a,$01
    ld   (de),a
    ret
    ex   de,hl
    ld   hl,$FFF9
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    cp   $10
    jp   c,$3851
    jp   z,$383C
    and  $07
    cp   $00
    jp   nz,$3842
    ld   hl,$FFFD
    add  hl,de
    ld   a,$80
    add  a,(hl)
    ld   (hl),a
    jp   $3842
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$24
    ld   h,d
    ld   l,e
    inc  hl
    inc  hl
    ld   a,(hl)
    add  a,$02
    cp   $E0
    jp   c,$3850
    ld   a,$E0
    ld   (hl),a
    ld   hl,$FFFC
    add  hl,de
    ex   de,hl
    call $37B3
    ret
    ex   de,hl
    ld   hl,$FFFA
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    inc  hl
    inc  hl
    inc  hl
    cp   $01
    jp   nz,$386B
    ld   (hl),$2D
    cp   $08
    jp   nz,$3872
    ld   (hl),$31
    cp   $14
    jp   nz,$3879
    ld   (hl),$30
    cp   $20
    jp   nz,$3880
    ld   (hl),$2B
    cp   $80
    jp   c,$3888
    ld   a,$07
    ld   (de),a
    ex   de,hl
    dec  de
    call $37B3
    ret
    ex   de,hl
    ld   hl,$FFFA
    add  hl,de
    inc  (hl)
    ld   a,(hl)
    inc  hl
    inc  hl
    inc  hl
    cp   $01
    jp   nz,$389F
    ld   (hl),$2C
    cp   $08
    jp   nz,$38A6
    ld   (hl),$2D
    cp   $14
    jp   nz,$38AD
    ld   (hl),$2E
    cp   $20
    jp   nz,$38B4
    ld   (hl),$2B
    cp   $80
    jp   c,$38BC
    ld   a,$07
    ld   (de),a
    ex   de,hl
    dec  de
    call $37B3
    ret
    ld   c,$00
    inc  hl
    ld   (hl),c
    inc  hl
    ld   (hl),c
    ld   d,h
    ld   a,l
    cp   $19
    jp   nz,$38D3
    ld   e,c
    jp   $38F2
    cp   $39
    jp   nz,$38DD
    ld   e,$02
    jp   $38F2
    cp   $59
    jp   nz,$38E7
    ld   e,$04
    jp   $38F2
    cp   $79
    jp   z,$38F0
    nop
    jp   $38EC
    ld   e,$06
    ex   de,hl
    ld   (hl),c
    inc  hl
    ld   (hl),c
    ex   de,hl
    ld   de,$FFFA
    add  hl,de
    ex   de,hl
    ld   bc,$3910
    ld   hl,$0015
    add  hl,de
    call $32F7
    call $37B3
    ret
    nop
    nop
    nop
    nop
    nop
    nop
    ld   (hl),b
    ld   (bc),a
    ld   (hl),b
    ld   bc,$00F0
    ret  p
    nop
    ret  p
    nop
    ret  p
    nop
    ret  p
    nop
    ret  p
    nop
    ret  p
    nop
    ret  p
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   a,(int_enable)
    and  $80
    ret  nz
    ld   a,($841F)
    cp   $01
    ret  nz
    ld   a,($803E)
    and  a
    ret  nz
    call $3981
    call $399C
    call $39B7
    call $39D2
    call $39ED
    ret
    call $3A08
    call $3A15
    call $3A22
    call $3A50
    call $3A5D
    call $3ACC
    ret
    ld   a,(ix+$03)
    ld   b,(iy+$03)
    sub  h
    cp   b
    ret  nc
    add  a,l
    cp   b
    ret  c
    ld   a,(ix+$00)
    ld   b,(iy+$00)
    sub  d
    cp   b
    ret  nc
    add  a,e
    cp   b
    ret  c
    ld   a,$81
    ld   (watchdog),a
    ld   hl,$841F
    ld   (hl),$02
    ret
    ld   a,($8501)
    and  a
    ret  z
    ld   a,($852B)
    and  a
    ret  nz
    ld   ix,$8000
    ld   iy,$8004
    ld   de,$070E
    ld   hl,$070E
    jp   $395E
    ld   a,($8504)
    and  a
    ret  z
    ld   a,($856B)
    and  a
    ret  nz
    ld   ix,$8000
    ld   iy,$800C
    ld   de,$070E
    ld   hl,$070E
    jp   $395E
    ld   a,($8507)
    and  a
    ret  z
    ld   a,($858B)
    and  a
    ret  nz
    ld   ix,$8000
    ld   iy,$8010
    ld   de,$070E
    ld   hl,$070E
    jp   $395E
    ld   a,($8601)
    and  a
    ret  z
    ld   a,($862B)
    and  a
    ret  nz
    ld   ix,$8000
    ld   iy,$8014
    ld   de,$050A
    ld   hl,$050A
    jp   $395E
    ld   a,($8603)
    and  a
    ret  z
    ld   a,($864B)
    and  a
    ret  nz
    ld   ix,$8000
    ld   iy,$8018
    ld   de,$050A
    ld   hl,$050A
    jp   $395E
    ld   hl,$8517
    ld   a,(hl)
    cp   $04
    ret  nz
    ld   de,$8007
    jp   $3A2C
    ld   hl,$8557
    ld   a,(hl)
    cp   $04
    ret  nz
    ld   de,$800F
    jp   $3A2C
    ld   hl,$8577
    ld   a,(hl)
    cp   $04
    ret  nz
    ld   de,$8013
    ld   a,(de)
    cp   $E0
    jp   nc,$3A43
    call $3B99
    cp   $37
    ret  nz
    ld   (hl),$05
    ld   a,$96
    ld   (watchdog),a
    jp   $3A4A
    ret
    ld   (hl),$06
    ld   a,$83
    ld   (watchdog),a
    ld   d,$04
    call $3BBD
    ret
    ld   hl,$8617
    ld   a,(hl)
    cp   $04
    ret  nz
    ld   de,$8017
    jp   $3A67
    ld   hl,$8637
    ld   a,(hl)
    cp   $04
    ret  nz
    ld   de,$801B
    ld   a,(de)
    cp   $E0
    jp   nc,$3A78
    call $3B99
    cp   $37
    ret  nz
    ld   (hl),$05
    jp   $3A85
    ld   (hl),$06
    ld   a,$82
    ld   (watchdog),a
    ld   d,$08
    call $3BBD
    ret
    ld   a,$97
    ld   (watchdog),a
    ld   d,$08
    call $3BBD
    ld   d,$04
    ld   a,($852B)
    and  a
    jp   nz,$3AA5
    call $3BBD
    ld   hl,$8517
    ld   (hl),$06
    ld   hl,$852B
    ld   (hl),$01
    ld   a,($856B)
    and  a
    jp   nz,$3AB9
    call $3BBD
    ld   hl,$8557
    ld   (hl),$06
    ld   hl,$856B
    ld   (hl),$01
    ld   a,($858B)
    and  a
    ret  nz
    call $3BBD
    ld   hl,$8577
    ld   (hl),$06
    ld   hl,$858B
    ld   (hl),$01
    ret
    ld   a,($85C0)
    and  a
    ret  z
    call $3AE1
    call $3AF8
    call $3B0F
    call $3B36
    call $3B4D
    ret
    ld   a,($8501)
    and  a
    ret  z
    ld   a,($852B)
    and  a
    ret  nz
    ld   iy,$8004
    ld   hl,$3B26
    ld   de,$8517
    jp   $3B74
    ld   a,($8505)
    and  a
    ret  z
    ld   a,($856B)
    and  a
    ret  nz
    ld   iy,$800C
    ld   hl,$3B26
    ld   de,$8557
    jp   $3B74
    ld   a,($8507)
    and  a
    ret  z
    ld   a,($858B)
    and  a
    ret  nz
    ld   iy,$8010
    ld   hl,$3B26
    ld   de,$8577
    jp   $3B74
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$1C
    ld   hl,$0014
    add  hl,de
    ld   (hl),$01
    ex   de,hl
    ld   (hl),$04
    ret
    ld   a,($8601)
    and  a
    ret  z
    ld   a,($862B)
    and  a
    ret  nz
    ld   iy,$8014
    ld   hl,$3B64
    ld   de,$8617
    jp   $3B74
    ld   a,($8603)
    and  a
    ret  z
    ld   a,($864B)
    and  a
    ret  nz
    ld   iy,$8018
    ld   hl,$3B64
    ld   de,$8637
    jp   $3B74
    ld   hl,$FFFD
    add  hl,de
    ld   (hl),$2C
    ld   hl,$0014
    add  hl,de
    ld   (hl),$01
    ex   de,hl
    ld   (hl),$04
    ret
    ld   ix,$801C
    exx
    ld   de,$0810
    ld   hl,$0212
    ld   a,(ix+$03)
    ld   b,(iy+$03)
    sub  h
    cp   b
    ret  nc
    add  a,l
    cp   b
    ret  c
    ld   a,(ix+$00)
    ld   b,(iy+$00)
    sub  d
    cp   b
    ret  nc
    add  a,e
    cp   b
    ret  c
    exx
    jp   (hl)
    ld   a,(de)
    rrca
    rrca
    rrca
    and  $1F
    ld   c,a
    dec  de
    dec  de
    dec  de
    ld   a,(de)
    neg
    rlca
    rlca
    ld   b,a
    and  $E0
    or   c
    ld   c,a
    ld   a,b
    and  $03
    ld   b,a
    ld   a,$90
    add  a,b
    ld   b,a
    ex   de,hl
    ld   hl,$FFE1
    add  hl,bc
    ld   a,(hl)
    ex   de,hl
    ret
    xor  a
    ld   hl,$8040
    ld   (hl),$01
    ld   c,$00
    ld   e,$00
    inc  hl
    ld   a,c
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    ld   a,d
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    ld   a,e
    adc  a,(hl)
    daa
    ld   (hl),a
    ret
    ret  m
    inc  (hl)
    cp   $24
    rst  $30
    inc  sp
    or   $24
    call m,$F624
    inc  h
    inc  bc
    ld   hl,($3291)
    sub  c
    xor  d
    sub  d
    inc  bc
    ld   l,$91
    xor  d
    sub  d
    or   d
    sub  d
    inc  bc
    and  (hl)
    sub  c
    xor  (hl)
    sub  d
    ld   ($0391),a
    ld   h,$92
    xor  (hl)
    sub  d
    cp   d
    sub  d
    ld   hl,$80C0
    ld   a,(hl)
    and  a
    jp   z,$3C86
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$3C24
    ld   de,$3C1C
    ld   bc,$0007
    ex   de,hl
    ldir
    ld   a,$94
    ld   (watchdog),a
    ret
    ld   bc,$0000
    nop
    nop
    nop
    nop
    nop
    inc  hl
    ld   a,(hl)
    cp   $01
    jp   z,$3C4D
    cp   $02
    jp   z,$3C78
    call $3C92
    ld   b,(ix+$00)
    ld   a,b
    and  a
    ret  z
    inc  ix
    ld   de,$3BD7
    call $3CA9
    ld   hl,$80C2
    ld   (hl),$01
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    ret
    inc  hl
    inc  (hl)
    ld   a,$06
    cp   (hl)
    ret  nc
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $08
    ret  c
    call $3C92
    ld   b,(ix+$00)
    ld   a,b
    and  a
    ret  z
    inc  ix
    ld   de,$3BDD
    call $3CA9
    ld   hl,$80C2
    ld   (hl),$02
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    ret
    inc  hl
    inc  (hl)
    ld   a,$06
    cp   (hl)
    ret  nc
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $08
    ret  c
    ld   hl,$80C0
    ld   a,$00
    ld   b,$08
    ld   (hl),a
    inc  hl
    djnz $3C8D
    ret
    call $48EF
    ld   ix,$3BE3
    ld   a,($8101)
    and  $03
    ld   de,$0007
    and  a
    ret  z
    add  ix,de
    dec  a
    jp   $3CA1
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    push bc
    push de
    ld   b,$02
    ld   c,$03
    call $1360
    pop  de
    pop  bc
    inc  ix
    inc  ix
    djnz $3CA9
    ret
    db   $fd
    rst  $38
    dec  iyh
    dec  h
    dec  h
    dec  h
    db   $fd
    rst  $38
    db   $fd
    cp   $FE
    cp   $FE
    cp   $FD
    rst  $38
    db   $fd
    cp   $FE
    cp   $FE
    cp   $FD
    rst  $38
    db   $fd
    cp   $FE
    cp   $FE
    cp   $FD
    rst  $38
    db   $fd
    cp   $FE
    cp   $FE
    cp   $FD
    rst  $38
    dec  iyh
    dec  h
    dec  h
    dec  h
    db   $fd
    rst  $38
    and  (iy-$6f)
    or   (hl)
    sub  d
    nop
    sub  b
    ld   h,$91
    or   (hl)
    sub  b
    nop
    sub  b
    and  (hl)
    sub  d
    ld   (hl),$92
    nop
    sub  b
    ld   l,$91
    or   (hl)
    sub  c
    nop
    sub  b
    ld   hl,$80E0
    ld   a,(hl)
    and  a
    jp   nz,$3D1E
    ld   hl,$80E0
    ld   b,$08
    ld   a,$00
    ld   (hl),a
    inc  hl
    djnz $3D19
    ret
    ld   b,a
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$3D45
    ld   (hl),$01
    inc  hl
    ld   a,b
    and  $0F
    ld   (hl),a
    ld   a,b
    and  $F0
    rrca
    rrca
    rrca
    rrca
    inc  hl
    ld   (hl),a
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    ld   a,$93
    ld   (watchdog),a
    ret
    nop
    inc  hl
    ld   a,(hl)
    cp   $01
    jp   z,$3D68
    cp   $02
    jp   z,$3DAE
    jp   $3D12
    nop
    nop
    ret
    call $3DF4
    jp   $3D12
    ld   a,$00
    ld   ($8422),a
    ld   a,$01
    ld   ($841F),a
    ret
    inc  hl
    inc  hl
    inc  hl
    inc  (hl)
    ld   a,$03
    cp   (hl)
    ret  nc
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $01
    ld   de,$3CCF
    jp   z,$3DA3
    cp   $02
    ld   de,$3CD6
    jp   z,$3DA3
    cp   $03
    ld   de,$3CDD
    jp   z,$3DA3
    cp   $04
    ld   de,$3CE4
    jp   z,$3DA3
    cp   $0C
    ld   de,$3CEB
    jp   z,$3D57
    cp   $05
    jp   z,$3D5D
    ret
    ld   a,(player_x)
    sub  $08
    ld   (player_x),a
    jp   $3DF4
    inc  hl
    inc  hl
    inc  hl
    inc  (hl)
    ld   a,$03
    cp   (hl)
    ret  nc
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $01
    ld   de,$3CDD
    jp   z,$3DE9
    cp   $02
    ld   de,$3CD6
    jp   z,$3DE9
    cp   $03
    ld   de,$3CCF
    jp   z,$3DE9
    cp   $04
    ld   de,$3CC8
    jp   z,$3DE9
    cp   $0C
    ld   de,$3CC1
    jp   z,$3D57
    cp   $05
    jp   z,$3D5D
    ret
    ld   a,(player_x)
    add  a,$08
    ld   (player_x),a
    jp   $3DF4
    push de
    call $3E05
    dec  hl
    dec  hl
    dec  hl
    ld   e,(hl)
    ld   d,$00
    add  ix,de
    pop  de
    call $3E19
    ret
    ld   ix,$3CF2
    ld   a,($8101)
    and  $03
    ld   de,$0006
    and  a
    ret  z
    add  ix,de
    dec  a
    jp   $3E11
    push hl
    ld   h,(ix+$01)
    ld   l,(ix+$00)
    ld   b,$01
    ld   c,$07
    call $1360
    pop  hl
    ret
    ld   hl,$8120
    ld   ix,$3FC6
    ld   iy,$400E
    ld   de,$0012
    ld   a,($8101)
    and  $03
    and  a
    jp   z,$3E48
    add  ix,de
    add  iy,de
    dec  a
    jp   $3E3C
    ld   b,$09
    ld   a,(hl)
    and  a
    jp   z,$3E56
    cp   $02
    jp   nz,$3E8A
    ld   (hl),$00
    push hl
    push de
    push bc
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    ld   e,(iy+$00)
    ld   d,(iy+$01)
    ld   b,$02
    ld   c,$02
    push hl
    call $1360
    pop  hl
    ld   a,(de)
    ld   de,$0020
    ld   b,$02
    ld   c,$02
    set  2,h
    call $1384
    pop  bc
    pop  de
    pop  hl
    inc  hl
    inc  ix
    inc  ix
    inc  iy
    inc  iy
    djnz $3E4A
    ret
    push hl
    push de
    push bc
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    ld   de,$0020
    ld   a,$25
    ld   b,$02
    ld   c,$02
    push hl
    call $1384
    pop  hl
    ld   a,$87
    ld   de,$0020
    ld   b,$02
    ld   c,$02
    set  2,h
    call $1384
    jp   $3E7B
    exx
    ld   hl,$8120
    ld   ix,$3FC6
    ld   b,$09
    ld   de,$0012
    ld   a,($8101)
    and  $03
    and  a
    jp   z,$3ECE
    add  ix,de
    dec  a
    jp   $3EC4
    exx
    ld   a,(ix+$00)
    inc  a
    cp   l
    jp   z,$3EDD
    add  a,$20
    cp   l
    jp   nz,$3EE8
    ld   a,(ix+$01)
    cp   h
    jp   nz,$3EE8
    ld   a,c
    exx
    ld   (hl),a
    exx
    exx
    inc  hl
    inc  ix
    inc  ix
    djnz $3ECE
    exx
    ret
    ld   hl,$8140
    ld   bc,$0000
    ld   a,(hl)
    and  a
    jp   z,$3F04
    inc  hl
    inc  hl
    inc  c
    inc  c
    jp   $3EF8
    ld   (hl),d
    inc  hl
    ld   (hl),e
    ld   ix,$3FB4
    add  ix,bc
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    ld   (hl),d
    set  2,h
    ld   (hl),e
    ld   hl,$8040
    ld   de,$3F31
    ld   b,$03
    ld   (hl),$01
    inc  hl
    xor  a
    ld   a,(de)
    adc  a,(hl)
    daa
    ld   (hl),a
    inc  hl
    inc  de
    djnz $3F23
    ld   a,$84
    ld   (watchdog),a
    ret
    nop
    dec  b
    nop
    ld   a,$09
    ld   hl,$8140
    ld   bc,$0000
    ex   af,af'
    ld   a,(hl)
    and  a
    call nz,$3F4C
    inc  hl
    inc  hl
    inc  c
    inc  c
    ex   af,af'
    dec  a
    jp   nz,$3F3C
    ret
    push hl
    ld   d,(hl)
    inc  hl
    ld   e,(hl)
    ld   ix,$3FB4
    add  ix,bc
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    ld   (hl),d
    set  2,h
    ld   (hl),e
    pop  hl
    ret
    ld   hl,$8120
    ld   ix,$3FC6
    ld   de,$0012
    ld   a,($8101)
    and  $03
    and  a
    jp   z,$3F7B
    add  ix,de
    dec  a
    jp   $3F71
    ld   b,$09
    ld   a,(hl)
    cp   $02
    jp   z,$3F8B
    inc  hl
    inc  ix
    inc  ix
    djnz $3F7D
    ret
    push bc
    push hl
    ld   l,(ix+$00)
    ld   h,(ix+$01)
    ld   de,$0020
    ld   a,$25
    ld   b,$02
    ld   c,$02
    push hl
    call $1384
    pop  hl
    ld   a,$87
    ld   de,$0020
    ld   b,$02
    ld   c,$02
    set  2,h
    call $1384
    pop  hl
    pop  bc
    jp   $3F83
    db   $fd
    sub  c
    cp   l
    sub  c
    db   $dd
    sub  c
    call m,$BC91
    sub  c
    call c,$FB91
    sub  c
    cp   e
    sub  c
    in   a,($91)
    call nz,$DC90
    sub  b
    ret  z
    sub  c
    ld   c,b
    sub  d
    ld   d,b
    sub  d
    ret  c
    sub  d
    ld   b,h
    sub  e
    ld   d,b
    sub  e
    ld   e,h
    sub  e
    call nz,$CC90
    sub  b
    call c,$C890
    sub  c
    call nc,$4491
    sub  d
    ret  c
    sub  d
    ld   b,h
    sub  e
    ld   e,h
    sub  e
    call nz,$CC90
    sub  b
    ret  nc
    sub  b
    call c,$CC90
    sub  c
    call c,$4892
    sub  e
    ld   d,h
    sub  e
    ld   e,b
    sub  e
    call nz,$CC90

 ;;; ============ start of suprmous.x5 =============

    sub  b
    ret  nc
    sub  b
    ld   b,h
    sub  c
    ret  nc
    sub  c
    ld   b,h
    sub  e
    ld   c,b
    sub  e
    ld   c,h
    sub  e
    ld   d,h
    sub  e
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    ld   h,d
    ld   b,b
    ld   h,a
    ld   b,b
    ld   l,h
    ld   b,b
    ld   (hl),c
    ld   b,b
    ld   e,l
    ld   b,b
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ret  po
    pop  hl
    jp   po,$87E3
    call po,$E6E5
    rst  $20
    add  a,a
    ret  pe
    jp   (hl)
    jp   pe,$87EB
    call pe,$EEED
    rst  $28
    add  a,a
    call c,$DEDD
    rst  $18
    add  a,a
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   a,(carrying_1)
    and  a
    jp   nz,$40A9
    ld   hl,$809C
    ld   a,$00
    ld   b,$0F
    ld   (hl),a
    inc  hl
    djnz $408B
    jp   $4092
    ld   hl,$8008
    ld   a,($80A5)
    ld   (hl),a
    inc  hl
    ld   a,($80A6)
    ld   (hl),a
    inc  hl
    ld   a,($80A7)
    ld   (hl),a
    inc  hl
    ld   a,($80A8)
    ld   (hl),a
    ret
    ld   a,(carrying_2)
    and  a
    jp   nz,$4120
    ld   de,carrying_2
    ld   hl,$4114
    ld   bc,$0009
    ldir
    ld   a,(player_x)
    add  a,$00
    ld   ($80A5),a
    ld   a,(player_y)
    add  a,$F0
    ld   ($80A8),a
    ld   a,($809F)
    ld   c,$00
    cp   $7A
    jp   z,$40F4
    inc  c
    inc  c
    cp   $7E
    jp   z,$40F4
    inc  c
    inc  c
    cp   $7C
    jp   z,$40F4
    inc  c
    inc  c
    cp   $7D
    jp   z,$40F4
    inc  c
    inc  c
    cp   $7B
    jp   z,$40F4
    jp   $4084
    ld   hl,$4106
    ld   b,$00
    add  hl,bc
    ld   a,(hl)
    ld   ($80A6),a
    inc  hl
    ld   a,(hl)
    ld   ($80A7),a
    jp   $4092
    ld   ($3607),a
    rlca
    inc  (hl)
    rlca
    dec  (hl)
    rlca
    inc  sp
    rlca
    nop
    nop
    nop
    nop
    ld   bc,$0001
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    ld   a,(carrying_3)
    cp   $01
    jp   z,$4135
    cp   $02
    jp   z,$4148
    cp   $03
    jp   z,$4167
    jp   $4084
    ld   a,(player_x)
    add  a,$00
    ld   ($80A5),a
    ld   a,(player_y)
    add  a,$F0
    ld   ($80A8),a
    jp   $4092
    ld   a,($80A3)
    inc  a
    ld   ($80A3),a
    cp   $0A
    jp   c,$415C
    ld   a,$03
    ld   (carrying_3),a
    jp   $4092
    ld   a,($80A8)
    add  a,$02
    ld   ($80A8),a
    jp   $4092
    ld   hl,$809E
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    call $3EF2
    ld   hl,($809C)
    ld   c,$01
    call $3EB2
    jp   $4084
    ld   a,$00
    ld   ($8180),a
    ld   a,($8180)
    and  a
    jp   nz,$419B
    ld   a,$39
    ld   ($9065),a
    ld   a,$85
    ld   ($9465),a
    ld   a,$3A
    ld   ($9085),a
    ld   a,$85
    ld   ($9485),a
    ld   a,$00
    ld   ($8181),a
    ld   a,($8181)
    and  a
    jp   nz,$41BB
    ld   a,$39
    ld   ($9385),a
    ld   a,$85
    ld   ($9785),a
    ld   a,$3A
    ld   ($93A5),a
    ld   a,$85
    ld   ($97A5),a
    ret
    call $48EF
    ld   a,($85C1)
    and  a
    jp   nz,$41D3
    ld   ($85C0),a
    ld   hl,$85C4
    ld   b,$0C
    ld   (hl),a
    inc  hl
    djnz $41CE
    ret

 ;;
    ld   a,($85C4)
    and  a
    jp   nz,$4217
    ld   hl,$85C1
    ld   de,$85C4
    ld   bc,$0003
    ldir
    ld   a,$95
    ld   (watchdog),a
    ld   a,$01
    ld   ($85C0),a
    ld   a,($85C5)
    cp   $80
    jp   c,$4207
    ld   a,$25
    ld   ($9065),a
    ld   ($9085),a
    ld   a,$01
    ld   ($8180),a
    jp   $4232
    ld   a,$25
    ld   ($9385),a
    ld   ($93A5),a
    ld   a,$01
    ld   ($8181),a
    jp   $4232
    ld   a,($85C6)
    cp   $E0
    jp   nc,$4227
    add  a,$02
    ld   ($85C6),a
    jp   $4232
    ld   hl,$85C0
    ld   b,$10
    ld   a,$00
    ld   (hl),a
    inc  hl
    djnz $422E
    ld   hl,$801C
    ld   a,($85C5)
    ld   (hl),a
    inc  hl
    ld   a,$37
    ld   (hl),a
    inc  hl
    ld   a,$05
    ld   (hl),a
    inc  hl
    ld   a,($85C6)
    ld   (hl),a
    ret
    call $48EF
    ld   hl,$8479
    ld   a,(hl)
    and  a
    jp   nz,$425D
    ld   (hl),$01
    dec  hl
    ld   a,$03
    ld   (hl),a
    ld   a,$00
    ld   ($8474),a
    ld   a,($8480)
    ld   b,a
    and  a
    jp   z,$441B
    and  $80
    jp   nz,$4306
    ld   a,b
    and  $40
    jp   nz,$42D1
    ld   a,b
    and  $20
    jp   z,$442B
    ld   a,(hw_in_0)
    and  $10
    jp   z,$4443
    ld   a,(is_playing)
    and  a
    jp   z,$4443
    ld   a,$E0
    ld   (watchdog),a
    ld   hl,$8483
    ld   a,(hl)
    inc  hl
    cp   (hl)
    jr   nz,$42CB
    ld   a,(hl)
    inc  hl
    cp   (hl)
    jr   z,$429C
    sla  a
    inc  a
    jr   $429E
    sla  a
    and  a
    jp   nz,$42A9
    push af
    ld   a,$01
    ld   ($8474),a
    pop  af
    ld   ($8489),a
    ld   hl,$44FE
    ld   b,a
    sla  a
    add  a,b
    add  a,l
    ld   l,a
    jr   nc,$42B8
    inc  h
    ld   de,$8041
    ld   a,$01
    ld   ($8040),a
    ld   bc,$0003
    ldir
    ld   a,$80
    ld   ($8480),a
    ret
    ld   a,$40
    ld   ($8480),a
    ret
    ld   a,($8480)
    and  $BF
    jr   nz,$42E5
    inc  a
    or   $40
    ld   ($8480),a
    ld   hl,$00B4
    ld   ($8481),hl
    ret
    ld   hl,($8481)
    dec  hl
    ld   ($8481),hl
    ld   a,h
    or   l
    ret  nz
    ld   hl,$8478
    ld   a,(hl)
    dec  a
    jp   z,$42FD
    ld   (hl),a
    xor  a
    ld   ($8480),a
    ret
    ld   (hl),a
    inc  hl
    ld   (hl),a
    ld   a,$01
    ld   ($8033),a
    ret

 ;;
    ld   a,($8480)
    and  $7F
    cp   $03
    jp   nc,$43E7
    cp   $02
    jp   nc,$432E
    inc  a
    or   $80
    ld   ($8480),a
    ld   a,($8474)
    and  a
    jp   z,$4328
    ld   a,$9A
    ld   (watchdog),a
    ret
    ld   a,$91
    ld   (watchdog),a
    ret

 ;;
    inc  a
    or   $80
    ld   ($8480),a
    ld   a,($8489)
    sla  a
    ld   hl,$4516
    add  a,l
    ld   l,a
    ld   a,h
    adc  a,$00
    ld   h,a
    ld   a,(hl)
    ld   ($848A),a
    inc  hl
    ld   a,(hl)
    ld   ($848B),a
    ld   a,($8474)
    and  a
    jp   z,$43E0
    ld   a,(is_playing)
    and  a
    jp   z,$436C
    ld   a,(credits)
    cp   $09
    jp   nc,$43BA
    add  a,$01
    daa
    ld   (credits),a
    ld   b,$01
    call $07BC
    ld   hl,$92EC
    ld   de,$FFE0
    ld   b,$0F
    call $43AE
    ld   hl,$92ED
    ld   de,$43C2
    ld   b,$0F
    call $439C
    ld   hl,$92EE
    ld   b,$0F
    call $439C
    ld   hl,$92EF
    ld   de,$FFE0
    ld   b,$0F
    call $43AE
    ld   hl,$00C8
    ld   ($8481),hl
    ret
    ld   a,(de)
    ld   (hl),a
    set  2,h
    ld   (hl),$80
    res  2,h
    push bc
    ld   bc,$FFE0
    add  hl,bc
    pop  bc
    inc  de
    djnz $439C
    ret
    ld   (hl),$24
    set  2,h
    ld   (hl),$80
    res  2,h
    add  hl,de
    djnz $43AE
    ret
    ld   a,$09
    ld   (credits),a
    jp   $4367
    inc  h
    inc  e
    add  hl,de
    ld   c,$0C
    ld   (de),a
    ld   a,(bc)
    dec  d
    inc  h
    dec  bc
    jr   $43E5
    ld   e,$1C
    inc  h
    inc  h
    inc  c
    dec  de
    ld   c,$0D
    ld   (de),a
    dec  e
    inc  h
    add  hl,de
    dec  d
    ld   e,$1C
    inc  h
    ld   bc,$2124
    ret  p
    nop
    ld   ($8481),hl
    ret
    ld   hl,($8481)
    dec  hl
    ld   ($8481),hl
    ld   a,l
    or   h
    jr   nz,$4404
    ld   a,$01
    ld   ($8032),a
    ld   a,$A0
    ld   (watchdog),a
    xor  a
    ld   hl,$8478
    ld   (hl),a
    inc  hl
    ld   (hl),a
    ret
    ld   a,l
    and  $03
    ret  nz
    ld   hl,($848A)
    ld   de,$0020
    ld   b,$04
    ld   a,(hl)
    inc  a
    and  $07
    or   $84
    ld   (hl),a
    add  hl,de
    djnz $4410
    ret
    inc  a
    ld   ($8480),a
    ld   a,$E0
    ld   (watchdog),a
    ld   hl,$0190
    ld   ($8481),hl
    ret
    ld   a,($8480)
    inc  a
    ld   ($8480),a
    cp   $04
    jr   nz,$443D
    call $4453
    ld   a,$20
    jr   $442F
    ld   a,$CA
    ld   (watchdog),a
    ret
    ld   hl,($8481)
    dec  hl
    ld   ($8481),hl
    ld   a,h
    or   l
    jp   z,$4285
    ld   a,l
    and  $07
    ret  nz
    ld   de,$8483
    ld   hl,$4526
    ld   a,($8486)
    call $44A7
    cp   $11
    jr   nz,$4464
    xor  a
    inc  de
    ld   ($8486),a
    ld   hl,$4537
    ld   a,($8487)
    call $44A7
    cp   $10
    jr   nz,$4476
    xor  a
    inc  de
    ld   ($8487),a
    ld   hl,$4547
    ld   a,($8488)
    call $44A7
    cp   $0F
    jr   nz,$4488
    xor  a
    ld   ($8488),a
    ld   de,$9268
    ld   a,($8483)
    call $44B3
    ld   de,$91E8
    ld   a,($8484)
    call $44B3
    ld   de,$9168
    ld   a,($8485)
    call $44B3
    ret
    push af
    add  a,l
    ld   l,a
    ld   a,h
    adc  a,$00
    ld   h,a
    ld   a,(hl)
    ld   (de),a
    pop  af
    inc  a
    ret
    cp   $03
    jr   nz,$44BD
    ld   a,$92
    ld   c,$86
    jr   $44D5
    cp   $02
    jr   nz,$44C7
    ld   a,$48
    ld   c,$87
    jr   $44D5
    cp   $01
    jr   nz,$44D1
    ld   a,$89
    ld   c,$86
    jr   $44D5
    ld   a,$80
    ld   c,$84
    push de
    push af
    ld   a,$04
    add  a,d
    ld   h,a
    ld   l,e
    pop  af
    pop  de
    ld   b,$03
    push bc
    push de
    ld   b,$03
    ld   (de),a
    inc  a
    inc  de
    ld   (hl),c
    inc  hl
    djnz $44E4
    pop  de
    push af
    ld   a,e
    add  a,$20
    ld   e,a
    ld   a,d
    adc  a,$00
    ld   d,a
    add  a,$04
    ld   h,a
    ld   l,e
    pop  af
    pop  bc
    djnz $44E0
    ret
    nop
    dec  d
    nop
    nop
    ex   af,af'
    nop
    nop
    djnz $4507
    nop
    dec  b
    nop
    nop
    ex   af,af'
    nop
    nop
    inc  b
    nop
    nop
    ld   b,$00
    nop
    ld   (bc),a
    nop
    ld   sp,$3596
    sub  (hl)
    add  hl,sp
    sub  (hl)
    dec  a
    sub  (hl)
    ld   d,c
    sub  h
    ld   d,l
    sub  h
    ld   e,c
    sub  h
    ld   e,l
    sub  h
    ld   bc,$0100
    ld   (bc),a
    inc  bc
    ld   (bc),a
    ld   bc,$0103
    inc  bc
    ld   (bc),a
    ld   bc,$0203
    nop
    ld   bc,$0102
    ld   (bc),a
    inc  bc
    ld   (bc),a
    ld   bc,$0203
    ld   bc,$0203
    ld   bc,$0103
    ld   (bc),a
    nop
    ld   (bc),a
    ld   (bc),a
    nop
    ld   bc,$0303
    ld   (bc),a
    ld   bc,$0203
    ld   bc,$0203
    inc  bc
    ld   bc,$2102
    ld   h,b
    add  a,b
    ld   a,(hl)
    and  a
    jp   nz,$456D
    inc  hl
    ld   (hl),a
    inc  hl
    ld   (hl),a
    ld   a,$01
    ld   ($8060),a
    ld   a,$D1
    ld   (watchdog),a
    ret
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $06
    ret  nz
    ld   (hl),$00
    inc  hl
    ld   a,(hl)
    inc  (hl)
    cp   $24
    jp   nc,$4593
    rlca
    rlca
    ld   c,a
    ld   b,$00
    ld   hl,$4604
    add  hl,bc
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    inc  hl
    ld   b,(hl)
    inc  hl
    ld   c,(hl)
    ex   de,hl
    ld   (hl),b
    set  2,h
    ld   (hl),c
    ret
    cp   $2D
    jp   nz,$45D9
    ld   hl,$92F5
    ld   de,$45C9
    ld   b,$10
    ld   c,$86
    ld   a,(de)
    ld   (hl),a
    set  2,h
    ld   (hl),c
    res  2,h
    inc  de
    push bc
    ld   bc,$FFE0
    add  hl,bc
    pop  bc
    djnz $45A2
    ld   a,$8C
    ld   (watchdog),a
    ld   a,$3C
    ld   ($920D),a
    inc  a
    ld   ($920E),a
    inc  a
    ld   ($920F),a
    inc  a
    ld   ($91EF),a
    ret
    rra
    ld   c,$1B
    ld   ($1524),hl
    ld   e,$0C
    inc  d
    ld   ($1624),hl
    jr   $45F5
    inc  e
    ld   c,$FE
    dec  sp
    jp   z,$45F1
    cp   $46
    ret  nz
    ld   a,$00
    ld   ($8060),a
    ld   a,$01
    ld   ($8033),a
    ld   a,$E0
    ld   (watchdog),a
    ret
    ld   a,$65
    ld   ($920D),a
    inc  a
    ld   ($920E),a
    inc  a
    ld   ($920F),a
    ld   a,$61
    ld   ($91EF),a
    ret
    call z,$5891
    add  a,h
    cpl
    sub  d
    ld   l,l
    add  a,h
    adc  a,$91
    ld   e,d
    add  a,h
    dec  l
    sub  d
    ld   l,e
    add  a,h
    ld   c,e
    sub  d
    ld   l,a
    add  a,h
    ld   d,b
    sub  d
    ld   (hl),h
    add  a,h
    ret  nc
    sub  c
    ld   e,h
    add  a,h
    xor  e
    sub  c
    ld   d,c
    add  a,h
    ex   de,hl
    sub  c
    ld   e,l
    add  a,h
    ld   c,$92
    ld   h,(hl)
    add  a,h
    xor  a
    sub  c
    ld   d,l
    add  a,h
    inc  c
    sub  d
    ld   h,h
    add  a,h
    dec  hl
    sub  d
    ld   l,c
    add  a,h
    ld   c,(hl)
    sub  d
    ld   (hl),d
    add  a,h
    xor  l
    sub  c
    ld   d,e
    add  a,h
    res  2,c
    ld   d,a
    add  a,h
    djnz $45D8
    ld   l,b
    add  a,h
    xor  (hl)
    sub  c
    ld   d,h
    add  a,h
    or   b
    sub  c
    ld   d,(hl)
    add  a,h
    db   $ed
    sub  c
    ld   e,a
    add  a,h
    rst  $08
    sub  c
    ld   e,e
    add  a,h
    ld   c,h
    sub  d
    ld   (hl),b
    add  a,h
    ld   c,a
    sub  d
    ld   (hl),e
    add  a,h
    xor  h
    sub  c
    ld   d,d
    add  a,h
    ret  p
    sub  c
    ld   h,d
    add  a,h
    jr   nc,$45FC
    ld   l,(hl)
    add  a,h
    dec  bc
    sub  d
    ld   h,e
    add  a,h
    rst  $28
    sub  c
    ld   h,c
    add  a,h
    inc  l
    sub  d
    ld   l,d
    add  a,h
    call $5991
    add  a,h
    call pe,$5E91
    add  a,h
    ld   l,$92
    ld   l,h
    add  a,h
    rrca
    sub  d
    ld   h,a
    add  a,h
    dec  c
    sub  d
    ld   h,l
    add  a,h
    ld   c,l
    sub  d
    ld   (hl),c
    add  a,h
    xor  $91
    ld   h,b
    add  a,h
    ld   hl,$8068
    ld   a,(hl)
    and  a
    jp   nz,$4705
    ld   (hl),$01
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    inc  hl
    ld   (hl),$00
    ld   hl,$9065
    ld   de,$46FE
    ld   b,$05
    push hl
    ld   a,(de)
    ld   (hl),a
    inc  de
    inc  hl
    djnz $46B3
    pop  hl
    set  2,h
    ld   b,$05
    ld   a,$84
    ld   (hl),a
    inc  hl
    djnz $46C0
    ld   a,(de)
    ld   hl,$9349
    ld   (hl),a
    set  2,h
    ld   (hl),$84
    inc  de
    ld   a,(de)
    ld   b,$16
    ld   de,$FFE0
    push hl
    res  2,h
    add  hl,de
    ld   (hl),a
    djnz $46D7
    pop  hl
    ld   b,$16
    ld   a,$84
    add  hl,de
    ld   (hl),a
    djnz $46E0
    ld   hl,$9485
    ld   de,$0020
    ld   b,$04
    ld   c,$17
    ld   a,$F5
    push bc
    push hl
    ld   (hl),a
    inc  hl
    djnz $46F2
    pop  hl
    add  hl,de
    pop  bc
    dec  c
    jp   nz,$46F0
    ret
    ld   b,b
    ld   b,b
    ld   b,b
    ld   b,b
    ld   b,e
    ld   (hl),a
    ld   b,c
    inc  hl
    ld   a,(hl)
    and  a
    jp   nz,$4755
    inc  hl
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $05
    ret  c
    ld   (hl),$00
    inc  hl
    ld   a,(hl)
    inc  (hl)
    cp   $2A
    jp   nc,$4732
    rlca
    rlca
    ld   c,a
    ld   b,$00
    ld   hl,$47E3
    add  hl,bc
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    inc  hl
    ld   b,(hl)
    inc  hl
    ld   c,(hl)
    ex   de,hl
    ld   (hl),b
    set  2,h
    ld   (hl),c
    ret
    ld   a,(hl)
    cp   $52
    jp   z,$4749
    sub  $2B
    cp   $24
    ret  nc
    rlca
    rlca
    ld   c,a
    ld   b,$00
    ld   hl,$4604
    call $4724
    ret
    ld   (hl),$00
    dec  hl
    ld   (hl),$00
    dec  hl
    ld   (hl),$00
    dec  hl
    ld   (hl),$01
    ret
    cp   $01
    jp   z,$4774
    inc  hl
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $06
    ret  c
    ld   (hl),$00
    inc  hl
    inc  (hl)
    ld   a,(hl)
    cp   $28
    ret  c
    ld   a,$00
    ld   ($8068),a
    ld   a,$01
    ld   ($8033),a
    ret
    inc  hl
    ld   a,(hl)
    inc  (hl)
    cp   $10
    jp   z,$4794
    cp   $20
    jp   z,$479B
    cp   $30
    jp   z,$47BB
    cp   $40
    jp   z,$47C2
    cp   $60
    ret  nz
    ld   (hl),$00
    dec  hl
    ld   (hl),$02
    ret
    ld   hl,$488B
    call $47C9
    ret
    ld   hl,$48A3
    call $47C9
    ld   ix,$07D5
    ld   a,($8025)
    rlca
    ld   e,a
    ld   d,$00
    add  ix,de
    ld   a,(ix+$00)
    ld   ($92F8),a
    ld   a,(ix+$01)
    ld   ($91D8),a
    ret
    ld   hl,$48BB
    call $47C9
    ret
    ld   hl,$48D3
    call $47C9
    ret
    ld   e,(hl)
    inc  hl
    ld   d,(hl)
    inc  hl
    ld   b,(hl)
    inc  hl
    ld   c,(hl)
    inc  hl
    ex   de,hl
    ld   a,(de)
    ld   (hl),a
    set  2,h
    ld   (hl),c
    res  2,h
    inc  de
    push de
    ld   de,$FFE0
    add  hl,de
    pop  de
    djnz $47D2
    ret
    ld   h,$93
    inc  h
    push af
    ld   b,$93
    exx
    push af
    and  $92
    rst  $10
    push af
    add  a,$92
    push de
    push af
    and  (hl)
    sub  d
    out  ($F5),a
    add  a,(hl)
    sub  d
    pop  de
    push af
    ld   h,(hl)
    sub  d
    rst  $08
    push af
    ld   b,(hl)
    sub  d
    call $26F5
    sub  d
    set  6,l
    ld   b,$92
    ret
    push af
    and  $91
    rst  $00
    push af
    add  a,$91
    push bc
    push af
    and  (hl)
    sub  c
    jp   $86F5
    sub  c
    pop  bc
    push af
    ld   h,(hl)
    sub  c
    cp   a
    push af
    ld   b,(hl)
    sub  c
    cp   l
    push af
    ld   h,$91
    cp   e
    push af
    ld   b,$91
    cp   c
    push af
    and  $90
    or   a
    push af
    add  a,$90
    or   l
    push af
    and  (hl)
    sub  b
    or   e
    push af
    daa
    sub  e
    inc  h
    push af
    rlca
    sub  e
    jp   c,$E7F5
    sub  d
    ret  c
    push af
    rst  $00
    sub  d
    sub  $F5
    and  a
    sub  d
    call nc,$87F5
    sub  d
    jp   nc,$67F5
    sub  d
    ret  nc
    push af
    ld   b,a
    sub  d
    adc  a,$F5
    daa
    sub  d
    call z,$07F5
    sub  d
    jp   z,$E7F5
    sub  c
    ret  z
    push af
    rst  $00
    sub  c
    add  a,$F5
    and  a
    sub  c
    call nz,$87F5
    sub  c
    jp   nz,$67F5
    sub  c
    ret  nz
    push af
    ld   b,a
    sub  c
    cp   (hl)
    push af
    daa
    sub  c
    cp   h
    push af
    rlca
    sub  c
    cp   d
    push af
    rst  $20
    sub  b
    cp   b
    push af
    rst  $00
    sub  b
    or   (hl)
    push af
    and  a
    sub  b
    or   h
    push af
    ld   (hl),$93
    inc  d
    add  a,(hl)
    inc  h
    inc  h
    inc  h
    inc  h
    ld   (de),a
    rla
    inc  e
    ld   c,$1B
    dec  e
    inc  h
    inc  h
    inc  c
    jr   $48B0
    rla
    inc  h
    inc  h
    inc  h
    inc  h
    jr   c,$4838
    inc  d
    add  a,d
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  c
    jr   $48C1
    rla
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    add  hl,de
    dec  d
    ld   a,(bc)
    ld   ($2424),hl
    ld   a,($1493)
    add  a,b
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    inc  h
    ld   a,h
    sub  e
    jr   $485D
    inc  h
    inc  h
    jr   z,$48FF
    ld   bc,$0809
    ld   (bc),a
    inc  h
    inc  c
    ld   de,$181E
    inc  h
    inc  c
    jr   $4919
    inc  h
    dec  d
    dec  e
    dec  c
    dec  hl
    inc  h
    inc  h
    push af
    ld   a,(hw_in_1)
    and  $40
    jp   nz,$48FA
    pop  af
    ret
    ld   hl,$9100
    ld   de,$491A
    ld   b,$0E
    call $490E
    ld   a,(watchdog)
    nop
    nop
    nop
    jp   $48FA
    ld   a,(de)
    ld   (hl),a
    inc  de
    push bc
    ld   bc,$0020
    add  hl,bc
    pop  bc
    djnz $490E
    ret
    inc  h
    dec  c
    dec  e
    dec  d
    inc  h
    ld   sp,$0C18
    inc  h
    jr   $4943
    ld   de,$240C

    org $4fff
    nop
